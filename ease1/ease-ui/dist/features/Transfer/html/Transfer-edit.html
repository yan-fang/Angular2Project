<ease-ui-modal
        close-modal="closeModal()"
        modal-id="'transferEdit'"
        modal-role="'document'"
        modal-title="contentData['ease.core.transfer.edittransfer.label']"
        class="transferModal">
  <div data-ng-class="{'blur-modal' : isLoading}">
    <div class="loadingHolder">
      <span id="modalLoading" data-ng-class="{'loading-grey' : isLoading && pending > 0}"></span>
    </div>
    <div ng-switch on='selectedView'>
      <!-- Transer One time transfer view -->
      <div ng-switch-when="one-time">
        <form id="editTransferForm" name="editTransferForm" autocomplete="off" novalidate>
          <div class="editTransferDetails">
            <div class="transfer-summary-container">
              <div class="transfer-summary-item" tabindex="0">
                <span class="transfer-summary-label" id="frequencyLabel">{{contentData['ease.core.transfer.success.frequency.label']}}</span>
                <span class="transfer-summary-details" id="frequencyResponse">{{contentData['ease.core.transfer.success.frequency.onetime.label']}}</span>
              </div>
              <div class="transfer-summary-item" tabindex="0">
                <span class="transfer-summary-label" id="transferFromLabel">{{contentData['ease.core.transfer.form.transferacct.from.label']}}</span>
                <span class="transfer-summary-details" id="transferFromResponse">{{editTransferData.fromAccount.displayName | limitTo:18}} <span class="transfer-summary-nowrap" data-ng-if="editTransferData.fromAccount.accountNumber">{{editTransferData.fromAccount.accountNumber}}</span></span>
              </div>
              <div class="transfer-summary-item" tabindex="0">
                <span class="transfer-summary-label" id="transferToLabel">{{contentData['ease.core.transfer.form.transferacct.to.label']}}</span>
                <span class="transfer-summary-details" id="transferToResponse">{{editTransferData.toAccount.displayName | limitTo:18}} <span class="transfer-summary-nowrap" data-ng-if="editTransferData.toAccount.accountNumber">{{editTransferData.toAccount.accountNumber}}</span></span>
              </div>
            </div>
          </div>
          <br/>
          <div id="datePicker" class="form-container">
            <label class="transfer-label" tabindex="0">{{contentData["ease.core.transfer.form.transdate.label"]}}</label>
            <label class="transfer-sublabel" data-ng-if="showArriveOnDate" tabindex="0">Arrive By: {{arriveOnDate}}</label>
            <div class="easeDatePicker">
              <input
                class="datePickerInput"
                tabindex="0"
                type="text"
                id="datePickerInputId"
                data-ng-model="date"
                data-ng-required="true"
                aria-label="{{::contentData['ease.core.transfer.form.transdate.label']}}"
                readonly="true">
                <span tabindex="0"
                      role="button"
                      data-ng-click="open($event)"
                      id="btnDatePicker"
                      class="dateControlButton"
                      aria-label="{{contentData['ease.core.transfer.form.calendar.label']}}"
                      alt="{{contentData['ease.core.transfer.form.calendar.label']}}"
                      title="{{contentData['ease.core.transfer.form.calendar.label']}}"
                      focus-input="callback">
                  <i class="icon-calendar"></i>
                </span>
              </input>
            </div>
          </div>
          <currency-input id="currencyInputId"
                          label={{contentData['ease.core.transfer.form.amount.label']}}
                          amount="amount.payAmount"
                          lower-bound="{{lowerBound}}"
                          upper-bound="{{upperBound}}"
                          lower-bound-error="{{contentData['ease.core.transfer.form.amount.min.aria.label']}}"
                          upper-bound-error="{{contentData['ease.core.transfer.form.amount.max.aria.label']}}"
                          is-input-valid="amount.isInputValid"
                          is-amount-empty="amount.isAmountEmpty"
                          available-amount="from.displayBalance"
                          placeholder="{{contentData['ease.core.transfer.form.amount.ghost.label']}}"
                          exceed-error="{{contentData['ease.core.transfer.form.amount.over.aria.label']}}"
                          daily-limit-remaining-amount="dailyLimitRemainingAmount"
                          monthly-limit-remaining-amount="monthlyLimitRemainingAmount"
                          daily-limit-remaining-message="{{'Remaining Transfer Limit'}}"
                          show-remaining-limit="showRemainingLimit"
                          submitted="submitted.isSubmitted"
                          data-is-disabled="transferSubmitted"
                          tooltip-notice="{{contentData['ease.core.transfer.tooltip.notice.label']}}"
                          tooltip-monthly-limit="{{contentData['ease.core.transfer.tooltip.limit.label']}}"
          >
          </currency-input>
          <button type="button"
                  id="updateTransferBtn"
                  data-ng-disabled="amount.isAmountEmpty || transferSubmitted || isLoading || loadingClass"
                  tabindex="0"
                  data-ng-click="updateTransfer()"
                  aria-labelledby="transfer-terms"
                  class="transfer-button transfer-button-edit">
              <span data-ng-class="{ loading: loadingClass }"></span>
              <span> {{contentData['ease.core.transfer.updatetransfer.button.label']}} </span>
          </button>
          <div class="transfer-link-wrapper">
            <span class="transfer-link"
                  data-ng-click="cancelEditTransfer()"
                  data-ng-class="{'disable-mouse-click' : loadingClass}"
                  tabindex="0"
                  role="button">
                {{contentData['ease.core.transfer.canceltransfer.label']}}
            </span>
          </div>
          <div id="transfer-terms" class="transfer-terms-message" ng-if="isTransferType">
            {{ isTransferType === 'one-time' ? contentData['ease.core.transfer.success.update.tos.label'] : '' }}
          </div>
        </form>
      </div>
      <!-- Transfer One time transfer view End -->

      <!-- Transfer Date Picker View -->
      <div ng-switch-when="date-picker">
        <div>
          <ease-calendar
            class="transferDatePicker"
            tabindex="-1"
            data-ng-model="date"
            data-ng-change="selectDate(date)"
            calendar-options="options">
          </ease-calendar>
          <button
            type="button"
            tabindex="0"
            id="datePickerDoneButton"
            data-ng-click="datePickerDone()"
            class="button progressive datePickerDoneButton">Done
          </button>
        </div>
      </div>
    </div>
    <!-- Transfer Date Picker View End -->
  </div>

</ease-ui-modal>
