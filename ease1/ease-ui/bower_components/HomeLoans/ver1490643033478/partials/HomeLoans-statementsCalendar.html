<div class="statementPicker" tab-lock component-toggle="!stCtrl.toggle" next-tab-element-id="zoomInPDFButton">
  <ul id="statementCalendarClickable" class="header firstTabElement" tabindex="0"
      ng-class="{'seperator':stCtrl.toggle}" ng-click="stCtrl.toggleDropdown($event)"
      aria-label="{{stCtrl.currentStatement.statementTitle}}" aria-expanded="false" aria-haspopup="true">
    <li class ="stTitle">
      <p class = "head">{{stCtrl.currentStatement.statementTitle}}</p>
    </li>
    <li class = "picker-icon">
      <i class="icon-drop-arrow"></i>
    </li>
  </ul>
  <div class="slide" ng-class="{'closed':stCtrl.toggle}" ng-switch="stCtrl.mode">
    <div class="monthPicker" ng-switch-when="monthPicker">
      <ul class="year-picker" ng-if = "!stCtrl.toggle">
        <li aria-label="Previous Year">
          <div id="previousYear" class="prev-year" ng-click="stCtrl.getPreviousYearStatements()"
               ng-show="stCtrl.isPrevYearAvailable">
            <i tabindex="0" role = "button" class = "icon-prev"> </i>
          </div>
        </li>
        <li aria-label="Year label">
          <div class = "year-label">
            {{stCtrl.statementYear}}
          </div>
        </li>
        <li aria-label="Next Year">
          <div id="nextYear" class="next-year" ng-click="stCtrl.getNextYearStatements()"
               ng-show="stCtrl.isNextYearAvailable">
            <i tabindex="0" role = "button" class = "icon-next"> </i>
          </div>
        </li>
      </ul>
      <ul class="months-grid" ng-if = "!stCtrl.toggle">
        <li data-ng-repeat="statement in stCtrl.lstStatementsByYear track by statement.index" ng-class="{'disabled': !statement.available}">
        <span id="{{'statementBubble' + $index}}"
              ng-class="{'preventPickerClose': (statement.additionalStatements || !statement.available), 'active': statement.index === stCtrl.statementIndex, 'disabled': !statement.available}"
              data-ng-click="stCtrl.onClick(statement)"
              aria-disabled="{{!statement.available}}"
              tabindex="{{statement.available ? 0 : -1}}"
              role= "button"
              aria-label="{{stCtrl.getAriaText($index)}}"
        >
          <!--<span ng-if="statement.additionalStatements" class="extra preventPickerClose">
            {{statement.additionalStatements.length}}
          </span>-->
          <span class="month" ng-class="{'preventPickerClose': statement.additionalStatements}">
            <b ng-class="{'preventPickerClose': statement.additionalStatements || !statement.available}">{{statement
              .statementMonth}}</b> <br/>
             <span ng-show="statement.available">{{statement.statementDay}}</span></span>
          </span>
        </span>
        </li>
      </ul>
      <ul class="annual-report" ng-show="stCtrl.taxStatements" ng-if = "!stCtrl.toggle">
        <li  id="taxStatement" data-ng-repeat="taxStatement in stCtrl.taxStatements track by taxStatement.index" ng-class="{'disabled': !taxStatement.available}"
             aria-label="Tax Statement for {{taxStatement.statementYear}}" data-ng-click="stCtrl.selectYearEnd(taxStatement)">
          <span ng-class="{'disabled': !taxStatement.available, 'active': stCtrl.taxStatementIndex === taxStatement.statementReferenceId}" tabindex="{{taxStatement.available ? 0 : -1}}" role = "button">{{taxStatement.statementTitle}} </b></span>
        </li>
        <!--<li id="taxStatement" aria-label="Tax Statement for {{stCtrl.statementYear}}"
            data-ng-click="stCtrl.selectYearEnd(stCtrl.taxStatement)">
          <span ng-class="{'disabled': !stCtrl.taxStatement.available, 'active': stCtrl.taxStatementSelected}" tabindex="{{stCtrl.taxStatement.available ? 1 : -1}}" role = "button">Tax Statement <b> {{stCtrl.statementYear}} </b></span>
        </li>-->
      </ul>

    </div>
    <div class="dayPicker" ng-switch-when="dayPicker">
      <ul class="months-grid" ng-if = "!stCtrl.toggle">
        <li id="{{'additionalStatement' + $index}}" data-ng-repeat="statement in stCtrl.additionalStatements track by statement.index"
            data-ng-click="stCtrl.onClick(statement)">
        <span ng-class="{'active': statement.index === stCtrl.additionalStatementIndex, 'disabled': !statement.available}" aria-disabled="{{!statement.available}}" tabindex="{{statement.available ? 0 : -1}}" role= "button" aria-label="{{stCtrl.getAriaText($index)}}">
          <span class="month"><b>{{statement.statementMonth}}</b><br />
          <span ng-show="statement.available">{{statement.statementDay}}</span></span>
        </span>
        </li>
      </ul>
      <ul class="back-button" ng-if = "!stCtrl.toggle">
        <li aria-label="Go Back">
          <div class="back-dayPicker" ng-click="stCtrl.toggleMode()">
            <i tabindex="0" role = "button" class = "icon-prev"> </i>
            <span>Back</span>
          </div>
        </li>
      </ul>
    </div>
    <span class="lastTabIndicatorElement" tabindex="0"></span>
  </div>
</div>
