<div ng-if="accordionVM.isOpen($index)" class="home-enhanced-transaction">
    <div class="cleansed-data">
      <div>
        <div class="key-block">
          <span class="single-line prox-bold scheduled-date">{{accordionVM.accordionParent.i18nHL.transactions.scheduledFor}}</span>
          <span class="single-line prox-bold" data-ng-if="transaction.bankName != null">{{accordionVM.accordionParent.i18nHL.transactions.payFrom}}</span>
          <span class="single-line prox-bold" data-ng-if="transaction.transactionAmount != null || transaction.transactionAmountDescription != null">
            {{accordionVM.accordionParent.i18nHL.transactions.paymentAmount}}
          </span>
          <span class="single-line prox-bold"
                data-ng-if="transaction.additionalPrincipalAmount != null && transaction.additionalPrincipalAmount > 0">
            {{accordionVM.accordionParent.i18nHL.transactions.additionalPrincipal}}
          </span>
          <span class="single-line prox-bold" data-ng-if="transaction.fees != null && transaction.fees > 0 ">
            {{accordionVM.accordionParent.i18nHL.transactions.lateCharge}}
          </span>
        </div>
        <div class="value-block">
          <span id= "scheduledFor" class="single-line amountValue full-date">
            {{transaction.transactionPostedDate | date:'EEEE, MMMM d, y'}}
          </span>
          <span id= "scheduledForShort" class="single-line amountValue short-date">
            {{transaction.transactionPostedDate | date:'EEE, MMM d, y'}}
          </span>
          <span id= "bankName" class="single-line amountValue" data-ng-if="transaction.bankName != null">
            {{transaction.bankName}}..{{transaction.fromAccountNumber}}
          </span>
          <span id = "transactionAmount" class="single-line amountValue" data-ng-if="transaction.transactionAmount != null">
            {{transaction.transactionAmount | currency}}
          </span>
          <span id = "transactionAmountDesc" class="single-line amountValue" data-ng-if="transaction.transactionAmount == null && transaction.recurringPaymentDraft">
            {{transaction.transactionAmountDescription}}
          </span>
          <span id = "additionalPrincipalAmount" class="single-line amountValue"
                data-ng-if="transaction.additionalPrincipalAmount != null && transaction.additionalPrincipalAmount > 0">
            {{transaction.additionalPrincipalAmount | currency}}
          </span>
          <span id = "lateCharge" class="single-line"
                data-ng-if="transaction.fees != null && transaction.fees > 0">
            {{transaction.fees | currency}}
          </span>
        </div>
      </div>
    </div>
    <div class="cleansed-data">
      <div>
        <div class="key-block payment-links" ng-show="!transaction.heloctransfer">
          <span></span>
          <span></span>
          <span ng-if="accordionVM.accordionParent.accountDetailsData.features.recurringPaymentEnabled
          || !transaction.recurringPaymentDraft">
            <a class="single-line-link"
               id="hlTransactionEdit"
               title="{{accordionVM.accordionParent.i18nHL.transactions.hlTransactionEdit}}"
               ng-click="accordionVM.accordionParent.goToEditPaymentModal(transaction);
               accordionVM.accordionParent.paymentInProgress();
                         $event.stopPropagation()" tabindex="0"
            data-ng-if="(accordionVM.accordionParent.isRecurringPaymentEligible && transaction.recurringPaymentDraft) || (!transaction.recurringPaymentDraft)">
              <i class="icon-edit-filled"></i>
              {{accordionVM.accordionParent.i18nHL.transactions.edit}}
            </a>&nbsp;&nbsp;
            <a id="hlTransactionCancel"
               title="{{accordionVM.accordionParent.i18nHL.transactions.hlTransactionCancel}}"
               class="single-line-link"
               ng-click="accordionVM.accordionParent.goToCancelPaymentModal(transaction);
               accordionVM.accordionParent.paymentInProgress();
               $event.stopPropagation()" tabindex="0">
              <i class="icon-trash-filled"></i>
              {{accordionVM.accordionParent.i18nHL.transactions.cancelPayment}}
            </a>
          </span>
        </div>
      </div>
    </div>
</div>
