define(["angular"],function(e){"use strict";var n=e.module("AtmFinderModule",["ui.router","restangular","oc.lazyLoad","EaseProperties","ContentProperties","easeAppUtils","angular-lo-dash","coreUtils"]);return n.provider("AtmState",["easeTemplatesProvider","easeCoreFilesProvider",function(n,t){function r(e,n){this.atmFinder={name:n,url:"/AtmFinder",parent:e,resolve:{errorContentData:["contentOneFactory","ContentConstant","$q",function(e,n,t){var r=t.defer();return e.initializeContentOneData(n.kSnagUrl).then(function(e){r.resolve(e)},function(){var e={common_snag_en_US:{"core.common.snag.modal.header":"We have hit a snag.","core.common.snag.modal.featureoff.label":"This feature isn’t available right now, but we’re working on it. Try again in a bit."}};r.resolve(e)}),r.promise}],featureToggleData:["featureToggleFactory",function(e){return e.initializeFeatureToggleData()}],urlChecking:["featureToggleData","$rootScope","EaseConstant","$location","$q","errorContentData","ContentConstant",function(e,n,t,r,o,a,i){var c=e[t.features.enableATMFinder],u={},l=o.defer();return c?l.resolve(!0):(u.msgHeader=a[i.kCommonSnag+"en_US"]["core.common.snag.modal.header"],u.msgBody=a[i.kCommonSnag+"en_US"]["core.common.snag.modal.featureoff.label"],n.$broadcast("error",u),r.path("/accountSummary"),l.reject(!1)),l.promise}],AtmFinderFactory:["$ocLazyLoad","$injector","urlChecking",function(e,n,r){return e.load({name:"AtmFinderModule",files:[t.get("constants","AtmFinder"),t.get("services","AtmFinder"),t.get("controller","AtmFinder"),t.get("directives","AtmFinder")]}).then(function(){return n.get("AtmFinderFactory")},function(e){console.error("Failed to load AtmFinder dependencies: "+e)})}],AtmFinderLocationData:["AtmFinderFactory","contentOneFactory","$q",function(e,n,t){var r=t.defer();return n.initializeContentOneData("atmfinder").then(function(n){e.setContentData(n),e.getAtmData().then(function(e){r.resolve(e)})}),r.promise}]},controller:"AtmFinderController"}}var o=this,a=null,i={};e.extend(o,{set:function(e,n){var t=new r(e,n);a=e.name,i[e.name]=t},get:function(){return i[a]},setCurrentLOB:function(e){a=e},getCurrentLOB:function(){return a}}),this.$get=function(){return o}}]),n.filter("locationType",function(){return function(e,n){return n.length?e.filter(function(e){return!e.locationType||n.indexOf(e.locationType)>-1}):e}}),n});