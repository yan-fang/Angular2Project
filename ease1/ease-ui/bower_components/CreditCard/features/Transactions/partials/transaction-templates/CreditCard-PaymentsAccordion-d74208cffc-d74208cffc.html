<accordion-drawer ng-if="accordionVM.isOpen($index)" is-open="accordionVM.isOpen($index)" aria-hidden="{{accordionVM.isOpen($index)?'false':'true'}}"
                  class="drawer-max-height enhanced-transaction"  accordion-open="accordionVM.accordionParent.accordionDrawerOpen()" accordion-close="accordionVM.accordionParent.accordionDrawerClose()">
  <div class="drawer-max-height cleansed-data" ng-init="paymentType = (transaction.paymentStatus=='Completed'?'posted':'scheduled')">
    <table class="details-table payments-table">
      <caption class="nodisplay" translate>ease.card.l2page.transactions.enhancedlist.text
      </caption>
      <tr ng-if="::transaction.hasPaymentDateAndNotCanceled">
        <td>
          <span  class="single-line prox-bold {{::paymentType}}PaymentDateLabel">{{::transaction.paymentDateLabel}}</span>
        </td>
        <td>
          <span  class="paymentValue single-line notWrap {{::paymentType}}PaymentDateValue">{{::accordionVM.accordionParent.translateDate(transaction.paymentDate)}}</span>
        </td>
      </tr>
      <tr ng-if="transaction.paymentStatus=='Canceled'">
        <td>
          <span  class="single-line prox-bold {{::paymentType}}PaymentDateLabel">{{::accordionVM.accordionParent.i18nTranslate.scheduledDateText}}</span>
        </td>
        <td>
          <span  class="paymentValue single-line notWrap {{::paymentType}}PaymentDateValue">{{::accordionVM.accordionParent.translateDate(transaction.paymentDate)}}</span>
        </td>
      </tr>
        <tr ng-if="::transaction.paymentStatus==='Canceled'">
            <td>
                <span  class="single-line prox-bold {{::transaction.paymentStatus}}PaymentDateLabel">{{::accordionVM.accordionParent.i18nTranslate.canceledDateText}} </span>
            </td>
            <td>
                <span  class="paymentValue single-line notWrap {{::transaction.paymentStatus}}PaymentDateValue">{{::accordionVM.accordionParent.translateDate(transaction.postedProcessingDate)}}</span>
            </td>
        </tr>
      <tr>
      <tr ng-if="::transaction.hasDisplayName">
        <td>
          <span  class="single-line prox-bold {{::paymentType}}PaymentSourceLabel" ng-bind="::accordionVM.accordionParent.i18nTranslate.sourceText"></span>
        </td>
        <td>
          <span class="paymentValue single-line notWrap {{::paymentType}}PaymentSourceValue" ng-bind="::transaction.payFromAccount.shortDisplayName"></span>
        </td>
      </tr>
      <tr ng-if="::transaction.paymentChannel" >
        <td>
          <span class="single-line prox-bold {{::paymentType}}PaymentChannelLabel" ng-bind="::accordionVM.accordionParent.i18nTranslate.channelText"></span>
        </td>
        <td>
          <span  class="paymentValue single-line notWrap {{::paymentType}}PaymentChannelValue" ng-bind="::transaction.normalizedPaymentChannel"></span>
        </td>
      </tr>
      <tr ng-if="::transaction.confirmationCode">
        <td>
          <span  class="single-line notWrap prox-bold {{::paymentType}}ConfirmationLabel" ng-bind="::accordionVM.accordionParent.i18nTranslate.confirmationCodeText"></span>
        </td>
        <td>
          <span  class="paymentValue single-line {{::paymentType}}ConfirmationValue" ng-bind="::transaction.confirmationCode"></span>
        </td>
      </tr>
    </table>
    <div ng-if="accordionVM.accordionParent.isChatEnabled" class="chat-container-payments">
      <span>
        <a id="transactions_chat_link_{{::$index}}" href="" class="chat" data-ng-if="accordionVM.accordionParent.chatState.isChatAvailable" data-ng-click="accordionVM.accordionParent.openChatLink(transaction, $event)">
        <img class="chat-icon" ng-src="{{accordionVM.accordionParent.chatIconSrc}}" alt="chat-icon" /> Chat</a>
      </span>
    </div>
  </div>
</accordion-drawer>
