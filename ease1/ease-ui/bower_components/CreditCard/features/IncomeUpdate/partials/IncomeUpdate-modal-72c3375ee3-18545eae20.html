<link rel="stylesheet" href="/ease-ui/bower_components/CreditCard/styles/card-override-d0ea6fe2a9-34f545de2b.css">
<div ng-controller="incomeUpdateCtrlL2 as incomeUpdate">
	<div ease-modal toggle-close="incomeUpdate.close()" modal-class="incomeUpdate.modalClass" modal-type="incomeUpdate.modalType"
		class="incomeUpdate" ng-class="{'cc-modal-icon-edit-address':incomeUpdate.status === 'initial','cc-modal-icon-success':incomeUpdate.status === 'success','card-lock-icon-caution':incomeUpdate.status === 'error'}"
		focus-id="focusId">
		<div class="incomeUpdateModalContent">
			<div id="requestStep1" data-ng-show="incomeUpdate.loadModal">
				<h2 class="pageHeader" translate>ease.card.incomeupdate.header.text</h2>
				<form>
					<div class="cc-summary-container">
						<div ng-show="incomeUpdate.showErrorMessage">
							<span for="ccIncmRequiredAllError" id="ccIncmRequiredAllError" aria-describedby="ccIncmRequiredAllError" class="errorMessage">{{'ease.card.incomeupdate.required_fields.text' | translate}}</span>
						</div>
						<label id="ccIncomeLabel" for="incomeInput" translate>ease.card.incomeupdate.question1.text</label>
						<p id="ccAlimonyLabel" translate>ease.card.incomeupdate.alimony.text</p>
						<div ng-show="incomeUpdate.incomeError" aria-describedby="ccIncmRequiredError">
							<span id="ccIncmRequiredError" class="errorMessage">{{'ease.card.incomeupdate.required_amount.text' | translate}}</span>
						</div>
						<div>
							<input id="incomeInput" type="text" placeholder="$0" data-ng-model="incomeUpdate.income" ng-change="incomeUpdate.formatIncome()"
								ng-keypress="incomeUpdate.limitMaxVal($event)" ng-blur="incomeUpdate.formatIncome()" ng-class="{'error':incomeUpdate.incomeError}"
								aria-describedby="ccIncmRequiredError ccAlimonyLabel ccDisclosureLabel" aria-required="true" />
							<p id="ccDisclosureLabel" class="disclosureTxt" translate>ease.card.incomeupdate.disclosure.text</p>
						</div>
					</div>
					<div class="cc-summary-container">
						<label id="ccEmpLabel" for="employmentType" translate>ease.card.incomeupdate.question2.text</label>
						<div ng-show="incomeUpdate.employmentError" aria-describedby="ccEmpRequiredError">
							<span id="ccEmpRequiredError" class="errorMessage">{{'ease.card.incomeupdate.required_choices.text' | translate}}</span>
						</div>
						<div class="acctDropDownContainer">
							<select class="dropdown" ng-class="{'error':incomeUpdate.employmentError}" id="employmentType" ng-model="incomeUpdate.selectedEmpStatusText"
								ng-change="incomeUpdate.validate($index)" aria-describedby="ccEmpRequiredError ccEmpLabel" aria-required="true">
              <option ng-repeat="empStatus in incomeUpdate.employmentValues">{{empStatus.display}}</option>
            </select>
						</div>
					</div>
					<div class="cc-summary-container">
						<label id="ccOccLabel" for="OccInput" translate>ease.card.incomeupdate.question3.text</label>
						<div ng-show="incomeUpdate.occupationError" aria-describedby="ccOccpRequiredError">
							<span id="ccOccpRequiredError" class="errorMessage">{{'ease.card.incomeupdate.required_amount.text' | translate}}</span>
						</div>
						<div><input id="OccInput" input type="text" data-ng-model="incomeUpdate.occupation" maxlength="60" ng-class="{'error':incomeUpdate.occupationError}"
								aria-describedby="ccOccpRequiredError" aria-required="true" ng-change="incomeUpdate.validateOccupation()"/></div>
					</div>
					<div class="modal-footer">
						<button id="ccRequestButton" class="action" ng-click="incomeUpdate.submit()">
              <span ng-hide="incomeUpdate.loading">
                {{'ease.card.incomeupdate.submit.text' | translate}}
              </span>
              <div class="cc-spinner" ng-class="{'loading':incomeUpdate.loading}"/>
            </button>
					</div>
				</form>
			</div>
			<div id="updateSuccess" tabindex="-1" data-ng-show="incomeUpdate.loadSuccess" aria-labelledby="successHeader successText">
				<h3 id="successHeader" translate>ease.card.incomeupdate.success.header.text</h3>
				<p id="successText" class="successDesc" translate>ease.card.incomeupdate.success.text</p>
			</div>
			<div id="updateFailure" tabindex="-1" data-ng-show="incomeUpdate.loadFailure" aria-labelledby="failureHeader" onfocus="incomeUpdate.loadSuccess=true">
				<h3 id="failureHeader" translate>ease.card.incomeupdate.failure.text</h3>
			</div>
		</div>
	</div>