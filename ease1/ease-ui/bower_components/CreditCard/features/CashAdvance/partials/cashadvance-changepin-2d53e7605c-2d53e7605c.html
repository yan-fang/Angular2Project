<h1 id="cash-advance-header" class="cash-advance-header">{{::'ease.card.cashadvance.changepin.header.text' | translate}}</h1>

<div class="cash-advance-changepin-wrapper">
<div id="cash-advance-info" class="cash-advance-info">{{::'ease.card.cashadvance.changepin.info.text' | translate}}</div>
<div id="cash-advance-tip-wrapper" class="cash-advance-tip">
  <ease-tooltip id="cash-advance-tip"
                tip-message="'<div>{{cashAdvance.tipMessage.title}}</div><ul><li>{{cashAdvance.tipMessage.bullet1}}</li><li>{{cashAdvance.tipMessage.bullet2}}</li><li>{{cashAdvance.tipMessage.bullet3}}</li></ul>'"
                options="cashAdvance.tooltipOptions"></ease-tooltip>
</div>

<form name="changePinForm">
  <fieldset>
    <div ng-if="changePinForm.$invalid" id="cash-advance-error-wrapper" class="cash-advance-error-wrapper">
      <i class="icon-exclamation"></i>
      <span ng-if="changePinForm.newPin_TLPCI.$error.repetitionValidator || changePinForm.newPin_TLPCI.$error.sequenceValidator"
            id="cash-advance-error1-msg" class="cash-advance-error-msg" role="alert">
        {{::'ease.card.cashadvance.changepin.error1.text' | translate}}
      </span>
      <span ng-if="changePinForm.newPin_TLPCI.$valid && changePinForm.confirmPin_TLPCI.$error.matchValidator"
            id="cash-advance-error2-msg" class="cash-advance-error-msg" role="alert">
        {{::'ease.card.cashadvance.changepin.error2.text' | translate}}
      </span>
    </div>
    <hr id="cash-advance-hr1" class="cash-advance-divider">
    <div id="cash-advance-show-pin-link-wrapper" class="cash-advance-show-pin-link-wrapper">
      <a id="cash-advance-show-pin" class="cash-advance-show-pin-link" href="" ng-click="cashAdvance.toggleShowPin()" tabindex="0">
        <span ng-if="!cashAdvance.showPin" id="cash-advance-show-pin-link1">
          {{::'ease.card.cashadvance.changepin.showpin.text' | translate}}
        </span>
        <span ng-if="cashAdvance.showPin" id="cash-advance-show-pin-link2">
          {{::'ease.card.cashadvance.changepin.hidepin.text' | translate}}
        </span>
      </a>
    </div>
    <label id="cash-advance-pin-label1" class="cash-advance-label">
      {{::'ease.card.cashadvance.changepin.label.text' | translate}}
    </label>
    <input type="{{cashAdvance.showPin ? 'text' : 'password'}}" id="cash-advance-pin_TLPCI" name="newPin_TLPCI"
           class="cash-advance-textbox" ng-class="{'has-error': changePinForm.$invalid}" validate-pin
           ng-model="cashAdvance.newPin" size="5" maxlength="4" autocomplete="off" aria-labelledby="cash-advance-pin-label1" tabindex="0">
    <hr id="cash-advance-hr2" class="cash-advance-divider">
    <label id="cash-advance-pin-label2" class="cash-advance-label">
      {{::'ease.card.cashadvance.changepin.confirmlabel.text' | translate}}
    </label>
    <input type="{{cashAdvance.showPin ? 'text' : 'password'}}" id="cash-advance-confirm-pin_TLPCI" name="confirmPin_TLPCI"
           class="cash-advance-textbox" ng-class="{'has-error': changePinForm.$invalid}" validate-match="{{cashAdvance.newPin}}"
           ng-model="cashAdvance.confirmPin" size="5" maxlength="4" autocomplete="off" aria-labelledby="cash-advance-pin-label2" tabindex="0">
    <hr id="cash-advance-hr3" class="cash-advance-divider">
    <button ng-disabled="changePinForm.$invalid || cashAdvance.newPin.length !== 4 || cashAdvance.confirmPin.length !== 4 || cashAdvance.disableSubmitBtn"
            id="set-pin-button" class="cash-advance-button" ng-click="cashAdvance.handleSetPinClick()" tabindex="0">
      {{::'ease.card.cashadvance.changepin.updatebutton.text' | translate}}
    </button>
    <div id="cash-advance-cancel-link-wrapper" class="cash-advance-cancel-link-wrapper">
      <a id="cash-advance-cancel" class="cash-advance-cancel-pin-link" href="" ng-click="cashAdvance.cancel()" tabindex="0">
        {{::'ease.card.cashadvance.changepin.cancel.text' | translate}}
      </a>
    </div>
  </fieldset>
</form>
</div>
