<div ng-controller="MakePaymentSuccessController as ccPaySuccessModal">
  <ease-ui-modal close-modal="ccPaySuccessModal.close()" init-close="ccPaySuccessModal.initClose"  modal-id="AccountDetailsParentController.focusId" class="cc-modal ccPayModal {{ccPaySuccessModal.modalInfo.modalType}}">
    <img class="cc-pay-modal-logo" ng-src="{{ccPaySuccessModal.imageSRC}}" alt="{{'ease.card.payment.makeapayment.step3.img.alt.text' | translate}}" title="{{'ease.card.payment.makeapayment.step3.img.title' | translate}}">
    <div class="step3 paymentContainer">
      <h2 id="cc-pay-success-confirmation-title" translate>ease.card.payment.makeapayment.step3.title.text</h2>
      <!-- <h4 translate>ease.card.payment.makeapayment.step3.subtitle.text</h4> -->
      <div class="rtfaMessage">
        <div id="cc-pay-success-rtfa-message" ng-if="ccPaySuccessModal.paymentDetails.realTimeFunds.rtfaApproved && ccPaySuccessModal.inboundPaymentsEnabled">
          <h4 class="cc-rtfa-status-message"><span translate> ease.card.payment.makeapayment.rtfa.availablecredit </span><span class="cc-pay-rtfa-creditavailable"> {{ccPaySuccessModal.paymentDetails.realTimeFunds.availableCredit | currency}}</span></h4>
      </div>
       <div id="cc-pay-success-otbHold-message" ng-if="ccPaySuccessModal.paymentDetails.realTimeFunds.otbHold && ccPaySuccessModal.inboundPaymentsEnabled">
         <h4 class="cc-otb-hold-message"> <span translate> ease.card.payment.makeapayment.rtfa.otbhold  </span>
          <span translate> {{ccPaySuccessModal.paymentDetails.realTimeFunds.month}} </span>
          <span>{{ccPaySuccessModal.paymentDetails.realTimeFunds.date}} </span> </h4>
      </div>
      </div>
      <div id="cc-on-time-payment-message" ng-if="ccPaySuccessModal.isPaymentOntime()">
        <h4 class="cc-ontime-payment-message" translate>ease.card.payment.makeapayment.step3.subtitle.ontime.payment</h4>
      </div>
      <div>
        <div class="cc-summary-container" tabindex="0">
          <div id="cc-pay-success-confirmation-amount-label" class="cc-summary-container-label" translate>ease.card.payment.makeapayment.step3.label.amount.text</div>
          <div id="cc-pay-success-confirmation-amount-value" class="cc-summary-container-value">{{ccPaySuccessModal.paymentDetails.paymentAmount | currency}}</div>
        </div>
          <div class="cc-summary-container" tabindex="0">
              <div id="cc-pay-success-confirmation-payto-label" class="cc-summary-container-label" translate>ease.card.payment.makeapayment.step3.label.payto.text</div>
              <div id="cc-pay-success-confirmation-payto-value" class="cc-summary-container-value">{{ccPaySuccessModal.paymentDetails.payToAccount.displayName}}</div>
          </div>
        <div class="cc-summary-container" tabindex="0">
          <div id="cc-pay-success-confirmation-payfrom-label" class="cc-summary-container-label" translate>ease.card.payment.makeapayment.step3.label.payfrom.text</div>
          <div id="cc-pay-success-confirmation-payfrom-value" class="cc-summary-container-value">{{ccPaySuccessModal.paymentDetails.payFromAccount.shortDisplayName}}</div>
        </div>
        <div class="cc-summary-container" tabindex="0">
          <div id="cc-pay-success-confirmation-payon-label" class="cc-summary-container-label" translate>ease.card.payment.makeapayment.step3.label.payon.text</div>
          <div id="cc-pay-success-confirmation-payon-value" class="cc-summary-container-value" >{{ccPaySuccessModal.formatDisplayDate(ccPaySuccessModal.paymentDetails.payOnDate, true, true)}}</div>
        </div>

        <div>
          <div id="cc-pay-success-checkmark-title-link-container" class="cc-checkmark-title-link-container"
           ng-if="ccPaySuccessModal.paymentDetails.extendedMessages && ccPaySuccessModal.paymentDetails.extendedMessages.length">
            <span class="cc-summary-options-checkmark" translate>ease.card.payment.makeapayment.step3.label.paymentpostscheckmark.text</span>
            <a href ng-click="ccPaySuccessModal.iconClick()" aria-label="Payment-Posting-Schedule"><i class="icon-info-circle payment-options-icon"></i></a>
          </div>
          <ul id="cc-pay-success-checkmark-link-container" class="cc-checkmarks-container" ng-if="ccPaySuccessModal.paymentDetails.extendedMessages">
            <li class="cc-checkmark-link-container" ng-repeat="transMsg in ccPaySuccessModal.paymentDetails.extendedMessages">
              <i class="icon-check cc-checkmark-link-icon-check"></i>
              <span class="cc-summary-options-checkmark cc-checkmark-link-summary" translate>{{transMsg}}</span>
            </li>
          </ul>
          <div class="cc-mopip-link-container" ng-if="ccPaySuccessModal.isMOPIPEligible()">
            <a href ng-click="ccPaySuccessModal.mopipLinkClick();" class="cc-summary-options-mopiplink" translate>ease.card.payment.makeapayment.step3.link.mopiplink.text</a>
          </div>
        </div>

        <div class="cc-confirmation-code-container">
          <div id="cc-pay-success-confirmation-code-value" class="cc-pay-confirmation-code" tabindex="0" aria-label="{{'ease.card.payment.makeapayment.step3.label.confirmationcode.aria.label.text' | translate}}">{{ccPaySuccessModal.paymentDetails.confirmationCode}}</div>
          <div id="cc-pay-success-confirmation-code-description" class="cc-pay-confirmation-code-label" translate>ease.card.payment.makeapayment.step3.label.confirmationcode.text</div>
                <span id="cc-pay-success-confirmation-print-container" class="print-icon-container" ng-click="ccPaySuccessModal.printConfirmation();" tabindex="0" aria-label="{{'ease.card.payment.makeapayment.step3.link.printconfirmation.aria.label.text' | translate}}">
                  <i id="cc-pay-success-confirmation-print-icon" class="icon-print"></i>
                </span>
        </div>
        <div class="cc-summary-options-container">
          <div ng-if="ccPaySuccessModal.isCosBridgeEnabled()">
            <a href class="cc-summary-options-link" ng-click="ccPaySuccessModal.getPaymentActivityURL();ccPaySuccessModal.psClick('link', 'gotoViewPaymentActivity');"
              translate>ease.card.makeapayment.step3.link.viewpaymentactivity.text</a>
            <a href class="cc-summary-options-link" ng-click="ccPaySuccessModal.getAccountSummaryURL();ccPaySuccessModal.psClick('link', 'gotoAccountSummary');"
               translate>ease.card.makeapayment.step3.link.accountsummary.text</a>
          </div>
          <div ng-if="!ccPaySuccessModal.isCosBridgeEnabled() && ccPaySuccessModal.isPaymentEditable() && !ccPaySuccessModal.paymentDetails.realTimeFunds.rtfaApproved">
            <a href class="cc-summary-options-link" ng-click="ccPaySuccessModal.cancelPayment(); ccPaySuccessModal.psClick('link', 'cancelPayment');" translate>ease.card.payment.makeapayment.step3.link.cancelpayment.text</a>
            <a href class="cc-summary-options-second-option cc-summary-options-link" ng-click="ccPaySuccessModal.editPayment(); ccPaySuccessModal.psClick('link', 'editPayment');" translate>ease.card.payment.makeapayment.step3.link.editpayment.text</a>
          </div>
        </div>
      </div>
    </div>
  </ease-ui-modal>
</div>

<div cc-load-screen id="ccMakePaymentSubmitLargeLoader"></div>
