{"version":3,"sources":["accountFeature-service.js","accountFeature-constants.js","accountFeature-controller.js","accountMoreFeatures-controller.js","accountFeature.js","../../../../../../../../../../module-insertRequire.js"],"names":["define","autoLoanDynamicAccountService","$location","autoLoanModuleService","AutoLoanMoreServicesConstants","AutoLoanAccountFeatureConstant","currentFullState","encodeURIComponent","path","deepLinkUrls","_","object","map","url","key","fullUrl","queryPrefix","indexOf","accountFeaturesMap","feature","urlKey","methodParam1","this","getDeepLinkUrls","getAccountServiceFeature","accountFeatures","getAccountServiceFeatures","accountServicesFeaturesArray","featuresInToolbar","i18n","getI18n","forEach","featureToolbar","index","accountFeature","elementClass","elementTextValue","eval","elementTextKey","push","$inject","ease.coaf.accesscode","elementId","iconClass","actionMethod","methodParam2","tabIndex","role","ease.coaf.managealerts","ease.coaf.securemessaging","ease.coaf.paperless","ease.coaf.faqtitlequestions","ease.coaf.onetimepayment","paymentType","ease.coaf.paymentplan","ease.coaf.payoff","ease.coaf.addexternalpaymentaccount","ease.coaf.accountextensibility.statements","AutoLoanAccountFeatureController","$state","autoLoanPaymentService","accountServicesFeatures","openUrl","windowLocation","window","open","navigateToState","state","go","openPayment","paymentTab","payNow","angular","AutoLoanAccountMoreFeaturesController","autoLoanDueDateChangeService","autoLoanDDCEligibility","vm","i18nMoreServices","coaf","moreServices","accountDetailsData","getAccountDetailsData","isStatementFeatureOn","isFeatureEnabled","isEStatementFeatureOn","isDueDateChangeFeatureOn","isPaperlessTransiteLinkOutFeatureOn","isPaperlessEaseFeatureOn","accountReferenceId","accountDetails","showDueDateChangeLink","entries","eligibleDatesList","length","navigateToDDC","navigateToDueDateChange","extend","modalType","modalClass","close","accountFeatureService","accountFeatureConstants","accountFeatureController","accountMoreFeaturesController","module","service","constant","controller","require"],"mappings":"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","file":"accountFeature.js","sourcesContent":["define('AccountFeatureService',['angular'], function() {\n  'use strict';\n\n  autoLoanDynamicAccountService.$inject = ['$location', 'autoLoanModuleService',\n    'AutoLoanMoreServicesConstants', 'AutoLoanAccountFeatureConstant'];\n\n  function autoLoanDynamicAccountService($location, autoLoanModuleService,\n                                         AutoLoanMoreServicesConstants, AutoLoanAccountFeatureConstant) {\n\n\n    var currentFullState = encodeURIComponent($location.path());\n\n    var deepLinkUrls = _.object(_.map(AutoLoanMoreServicesConstants, function(url, key) {\n      var queryPrefix = url.indexOf('?') === -1 ? '?' : '&';\n      var fullUrl;\n      if (key === 'titleHelpCenterUrl') {\n        fullUrl = [key, url]\n      } else {\n        fullUrl = [key, url + queryPrefix + 'easeReturnState=' + currentFullState]\n      }\n      return fullUrl;\n    }));\n\n    var accountFeaturesMap = _.object(_.map(AutoLoanAccountFeatureConstant, function(feature, key) {\n      if (feature.urlKey) {\n        feature.methodParam1 = deepLinkUrls[feature.urlKey];\n      }\n      return [key, feature];\n    }));\n\n    this.getDeepLinkUrls = function() {\n      return deepLinkUrls;\n    };\n\n    this.getAccountServiceFeature = function() {\n      var accountFeatures = autoLoanModuleService.getAccountServiceFeatures();\n      var accountServicesFeaturesArray = [];\n      if (accountFeatures && accountFeatures.featuresInToolbar) {\n        var i18n = autoLoanModuleService.getI18n();\n        accountFeatures.featuresInToolbar.forEach(function(featureToolbar, index) {\n\n          var accountFeature = accountFeaturesMap[featureToolbar];\n\n          if (accountFeature) {\n            accountFeature.elementClass = 'accountfeature' + index;\n            accountFeature.elementTextValue = eval('i18n.' + accountFeature.elementTextKey);\n            accountServicesFeaturesArray.push(accountFeaturesMap[featureToolbar]);\n          }\n        });\n      }\n      return accountServicesFeaturesArray;\n\n    };\n  }\n\n  return autoLoanDynamicAccountService;\n\n});\n\n","define('AccountFeatureConstants',['angular'], function() {\n  'use strict';\n\n  return {\n    'ease.coaf.accesscode': {\n      'urlKey': 'accessCodeUrl',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'accesscode',\n      'iconClass': 'icon-lock',\n      'elementTextKey': 'coaf.moreServices.sections.account.accessCode',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openUrl',\n      'methodParam1': '[toBeOverriden]',\n      'methodParam2': '_self',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.managealerts': {\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'managealerts',\n      'iconClass': 'icon-alert',\n      'elementTextKey': 'coaf.moreServices.sections.messages.alerts',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'navigateToState',\n      'methodParam1': 'alerts',\n      'methodParam2': '_self',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.securemessaging': {\n      'urlKey': 'viewMessagesUrl',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'viewmessages',\n      'iconClass': 'icon-envelope',\n      'elementTextKey': 'coaf.moreServices.sections.messages.view',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openUrl',\n      'methodParam1': '[toBeOverriden]',\n      'methodParam2': '_self',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.paperless': {\n      'urlKey': 'paperlessUrl',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'paperless',\n      'iconClass': 'icon-document',\n      'elementTextKey': 'coaf.moreServices.sections.documentsForms.paperless',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openUrl',\n      'methodParam1': '[toBeOverriden]',\n      'methodParam2': '_self',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.faqtitlequestions': {\n      'urlKey': 'titleHelpCenterUrl',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'faqtitlequestions',\n      'iconClass': 'icon-help',\n      'elementTextKey': 'coaf.accountSummary.extensibility.titlehelp.label.v1',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openUrl',\n      'methodParam1': '[toBeOverriden]',\n      'methodParam2': '_new',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.onetimepayment': {\n      'paymentType': 'onetimepayment',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'onetimepayment',\n      'iconClass': 'icon-calendar',\n      'elementTextKey': 'coaf.accountSummary.extensibility.makeonetimepayment.label.v1',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openPayment',\n      'methodParam1': 'OneTime',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.paymentplan': {\n      'paymentType': 'paymentplan',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'paymentPlan',\n      'iconClass': 'icon-cycle',\n      'elementTextKey': 'coaf.accountSummary.extensibility.schedulerecurringpayment.label.v1',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openPayment',\n      'methodParam1': 'Recurring',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.payoff': {\n      'paymentType': 'payoff',\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'payoff',\n      'iconClass': 'icon-modal-dollar',\n      'elementTextKey': 'coaf.accountSummary.extensibility.payoffloan.label.v1',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'openPayment',\n      'methodParam1': 'Payoff',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.addexternalpaymentaccount': {\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'addexternalpaymentaccount',\n      'iconClass': 'icon-modal-dollar',\n      'elementTextKey': 'coaf.accountSummary.extensibility.addpaymentaccount.label.v1',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'navigateToState',\n      'methodParam1': 'AutoLoanDetails.transactions.AddExtAccount',\n      'tabIndex': 0,\n      'role': 'link'\n    },\n    'ease.coaf.accountextensibility.statements': {\n      'elementClass': '[toBeOverriden]',\n      'elementId': 'statements',\n      'iconClass': 'icon-document',\n      'elementTextKey': 'coaf.moreServices.sections.documentsForms.EASEStatements',\n      'elementTextValue': '[toBeOverriden]',\n      'actionMethod': 'navigateToState',\n      'methodParam1': 'AutoLoanDetails.transactions.showStatements',\n      'tabIndex': 0,\n      'role': 'link'\n    }\n  }\n\n});\n\n","define('AccountFeatureController',['angular'], function() {\n  'use strict';\n\n  AutoLoanAccountFeatureController.$inject = ['$state', 'autoLoanModuleService',\n    'autoLoanDynamicAccountService', 'autoLoanPaymentService'];\n\n  function AutoLoanAccountFeatureController($state, autoLoanModuleService,\n                                            autoLoanDynamicAccountService, autoLoanPaymentService) {\n    this.i18n = autoLoanModuleService.getI18n();\n\n    this.accountServicesFeatures = autoLoanDynamicAccountService.getAccountServiceFeature();\n\n    this.openUrl = function(url, windowLocation) {\n      window.open(url, windowLocation);\n    };\n\n    this.navigateToState = function(state) {\n      $state.go(state);\n    };\n\n    this.openPayment = function(paymentTab) {\n      autoLoanPaymentService.payNow(paymentTab);\n    };\n\n  }\n\n  return AutoLoanAccountFeatureController;\n});\n\n","define('AccountMoreFeaturesController',['angular'], function(angular) {\n  'use strict';\n\n  AutoLoanAccountMoreFeaturesController.$inject = ['$state', 'autoLoanModuleService', 'autoLoanDueDateChangeService',\n    'autoLoanDynamicAccountService', 'autoLoanDDCEligibility'];\n\n  function AutoLoanAccountMoreFeaturesController($state, autoLoanModuleService, autoLoanDueDateChangeService,\n                                                 autoLoanDynamicAccountService, autoLoanDDCEligibility) {\n\n\n    var vm = this;\n    var i18nMoreServices = autoLoanModuleService.getI18n().coaf.moreServices;\n    var deepLinkUrls = autoLoanDynamicAccountService.getDeepLinkUrls();\n\n    var accountDetailsData = autoLoanModuleService.getAccountDetailsData();\n\n    vm.isStatementFeatureOn = autoLoanModuleService.isFeatureEnabled('ease.coaf.accountextensibility.statements');\n    vm.isEStatementFeatureOn = autoLoanModuleService.isFeatureEnabled('ease.coaf.moreservices.estatements');\n    vm.isDueDateChangeFeatureOn = autoLoanModuleService.isFeatureEnabled('ease.coaf.moreservices.duedatechange');\n    vm.isPaperlessTransiteLinkOutFeatureOn = autoLoanModuleService.isFeatureEnabled('ease.coaf.moreservices.paperlesstransitelinkout');\n    vm.isPaperlessEaseFeatureOn = autoLoanModuleService.isFeatureEnabled('ease.coaf.moreservices.paperless');\n    vm.accountReferenceId = accountDetailsData.accountDetails.accountReferenceId;\n    vm.showDueDateChangeLink = false;\n\n\n    if (vm.isDueDateChangeFeatureOn && autoLoanDDCEligibility && autoLoanDDCEligibility.entries) {\n      vm.eligibleDatesList = autoLoanDDCEligibility.entries;\n      vm.showDueDateChangeLink = autoLoanDDCEligibility && autoLoanDDCEligibility.entries.length > 0;\n    }\n\n    vm.navigateToDDC = function() {\n      autoLoanDueDateChangeService.navigateToDueDateChange(vm.eligibleDatesList);\n    };\n\n    vm.navigateToState = function(state) {\n      $state.go(state);\n    };\n\n    angular.extend(vm, {\n      modalType: 'autoloan-more-services-modal',\n      modalClass: 'icon-tiles',\n      close: function() {\n        $state.go('AutoLoanDetails.transactions');\n      },\n      i18nMoreServices: i18nMoreServices,\n      deepLinkUrls: deepLinkUrls\n    });\n  }\n\n  return AutoLoanAccountMoreFeaturesController;\n\n});\n\n","define('AutoLoanAccountFeature',['angular', 'AccountFeatureService', 'AccountFeatureConstants', 'AccountFeatureController',\n    'AccountMoreFeaturesController'],\n\n  function(angular,\n           accountFeatureService,\n           accountFeatureConstants,\n           accountFeatureController,\n           accountMoreFeaturesController) {\n    'use strict';\n    return angular.module('AutoLoanAccountFeatureModule', [])\n      .service('autoLoanDynamicAccountService', accountFeatureService)\n      .constant('AutoLoanAccountFeatureConstant', accountFeatureConstants)\n      .controller('AutoLoanAccountFeatureController', accountFeatureController)\n      .controller('AutoLoanAccountMoreFeaturesController', accountMoreFeaturesController)\n  });\n\n","\nrequire([\"AutoLoanAccountFeature\"]);\n"]}