<div style="z-index:100;" ease-modal
    toggle-close="alPaymentDetails.close()"
    modal-role="alPaymentDetails.modalRole"
    init-close="alPaymentDetails.initClose"
    modal-class="alPaymentDetails.modalClass"
    modal-type="alPaymentDetails.modalType"
    focus-id="focusId">

  <h1 data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.paymentDetails.label.v1" ></h1>
  <h2 align="center">
    <span class="accnumbertrail" id="displayAccountNumber" data-ng-bind="accountDetailsData.accountDetails | formatDisplayAccountNumber"/>
  </h2>

  <div class="paymentInfo">
    <ul>
      <li >
        <label data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.currentDue.label.v1"></label>
        <span id="currentAmountDue" data-ng-bind="accountDetailsData.accountDetails.minimumPaymentAmount | currency"></span>
      </li>
      <li >
        <label id="pastDueAmount" class="clickable-only open-disclaimer"
            role="link" aria-describedby="unpaidPastDueAmount"
            data-ng-click="alPaymentDetails.showDisclaimer()"
            data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.pastDue.label.v1">
        </label>

        <span id="unpaidPastDueAmount" data-ng-bind="accountDetailsData.accountDetails.unpaidPastDueAmount | currency"></span>
      </li>
      <li >
        <label data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.lateFees.label.v1"></label>
        <span data-ng-bind="accountDetailsData.accountDetails.unpaidLateFee | currency" id="unpaidLateFee"></span>
      </li>
      <li >
        <label data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.otherFees.label.v1"></label>
        <span data-ng-bind="accountDetailsData.accountDetails.unpaidMiscellaneousFeeAmount+accountDetailsData.accountDetails.unpaidOtherFee | currency" id="unpaidOtherFee"></span>
      </li>
    </ul>
  </div>


  <ul class = "paymentDue" >
    <li class="totalDue" data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.totalPaymentDue.label.v1"></li>
    <li class = "paymentAmount" data-ng-bind="accountDetailsData.accountDetails.totalAmountDue | currency" id="totalAmountDue"></li>
    <li class ="newRow">
    <li class ="paymentDate" data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.due.label.v1
    +(accountDetailsData.accountDetails.dueDate | date:'MMMM d, yyyy')" id="dueDate"></li>
    <li class = "newRow">
    <li data-ng-if="!isMakeAPaymementDisabled()"  class = "paymentLink" data-ng-click="!isMakeAPaymentDisabled() && (alPaymentDetails.close() || alPaymentDetails.makeAPaymentLink() ) " id="makePayment" tabindex="0" data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.accountDetails.makeAPayment.button.v1"></li>
  </ul>

  <div class="upcomingPayments" data-ng-if="transactionsEnabled && accountDetailsData.transactions.scheduled.length > 0 || accountDetailsData.transactions.pending.length > 0" >
    <h1 class = "upcomingTitle" data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.upcomingPayments.label.v1" id="upcomingPayments"></h1>

    <ul class = "paymentModule" id="pDueScheduledTransactions{{$index}}" data-ng-repeat="transaction in accountDetailsData.transactions.scheduled  | orderByDate:'transaction.date':false">
      <li class = "newRow">
      <li class = "paymentType" aria-label="{{transaction.transactionState}}" data-ng-bind="transaction.transactionState" id="pDueScheduledTransactionState{{$index}}"></li>
      <li class = "paymentPrice" aria-label="{{transaction.transactionAmount | currency }}"  data-ng-bind="transaction.transactionAmount | currency" id="pDueScheduledTransactionAmount{{$index}}"></li>

      <li class = "newRow">
      <li class = "paymentInfo" aria-label="{{transaction.transactionDescription}}" data-ng-bind="transaction.transactionDescription" id="pDueScheduledTransactionDescription{{$index}}"></li>

      <li class = "newRow">
      <li class = "paymentInfo" aria-label="{{transaction.date | date:'MMM d, yyyy'}}"
          data-ng-bind="(transaction.date | date:'MMM d, yyyy')" id="pDueScheduledTransactionDate{{$index}}"></li>
    </ul>

    <div class = "paymentDivider" data-ng-if="accountDetailsData.transactions.scheduled.length > 0 && accountDetailsData.transactions.pending.length > 0"></div>
    <ul class = "paymentModule" id="pDuePendingTransactions{{$index}}" data-ng-repeat="transaction in accountDetailsData.transactions.pending">
      <li class = "newRow">
      <li class = "paymentType" aria-label="{{transaction.transactionState}}" data-ng-bind="transaction.transactionState" id="pDuePendingTransactionState{{$index}}"></li>
      <li class = "paymentPrice"  aria-label="{{transaction.transactionAmount | currency }}" data-ng-bind="transaction.transactionAmount | currency"
          id="pDuePendingTransactionAmount{{$index}}"></li>

      <li class = "newRow">
      <li class = "paymentInfo" aria-label="{{transaction.transactionDescription}}" data-ng-bind="transaction.transactionDescription"
          id="pDuePendingTransactionDescription{{$index}}"></li>

      <li class = "newRow">
      <li class = "paymentInfo" aria-label="{{transaction.date | date:'MMM d, yyyy'}}"
          data-ng-bind="(transaction.date | date:'MMM d, yyyy')"
          id="pDuePendingTransactionDate{{$index}}"></li>

    </ul>
  </div>

  <div class="upcomingPayments" data-ng-if="accountDetailsData.transactions.scheduled.length == 0 && accountDetailsData.transactions.pending.length == 0 && transactionsEnabled">
    <div class="upcomingTitle" data-ng-bind="alPaymentDetails.i18n.coaf.accountSummary.paymentDueDetails.noUpcomingPayments.label.v1" id="noUpcomingPayments"></div>
  </div>

</div>
