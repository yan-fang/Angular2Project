define(["angular"],function(e){"use strict";var t=e.module("StatementModule");return t.directive("easePdfViewer",["$compile","pdfDelegate","EaseConstant",function(t,n,r){var i=function(i,l,c){if(e.isNumber(i.scale)||(i.scale=r.kDefaultPdfScale),i.loading=!1,i.pdfUrl){var o=n.getTemplate(l,i.pdfUrl,i.scale,i.headers);o.then(function(e){l.html(e),t(l.contents())(i);var n=l.children().length;return n}).then(function(e){for(var t=1;e>=t;t++)n.renderPage(t)})}else n.initializeTemplate(l,i.scale);i.accessor&&(i.accessor.renderPdf=function(e){l.html(e),t(l.contents())(i);for(var r=l.children().length,c=1;r>=c;c++)n.renderPage(c);i.loading=!1})};return{restrict:"AE",link:i,scope:{pdfUrl:"=",scale:"=",accessor:"=",loading:"=",headers:"="}}}]),t.directive("tabThrough",function(){function t(t){return e.element(t.children()[t.children().length-1])}return{restrict:"A",scope:!0,link:function(n,r,i){var l=e.element(document.getElementById(i.id)),c=(l.children().length,t(l)),o=e.element(document.querySelector(".close-dialog"));r.bind("keydown",function(e){9!==e.keyCode||e.shiftKey||t(c)[0].getAttribute("id")!==e.target.getAttribute("id")||o&&1===o.length&&(e.preventDefault(),o[0].focus()),e.shitKey&&9===e.keyCode&&e.preventDefault()})}}}),t.directive("closeMonthPicker",["$document","$parse","EASEUtilsFactory",function(e,t,n){return{restrict:"A",link:function(t,n,r,i){e.on("click",function(e){var n=["statementPicker","header","stTitle","head","picker-icon","icon-drop-arrow","slide","prev-year","year-label","next-year","icon-prev","icon-next"];if(e&&void 0!==typeof e)var r=e.target.getAttribute("class"),i=r?r.split(" ")[0]:null;var l=_.include(n,i);l||t.stCtrl.toggle||t.$apply(function(){t.stCtrl.toggle=!t.stCtrl.toggle})})}}}]),t});