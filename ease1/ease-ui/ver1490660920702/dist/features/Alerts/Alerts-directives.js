define(["angular"],function(t){"use strict";function e(t){return{restrict:"A",link:function(e,r,n){e.$watch(n.focusCardAlertEmailList,function(e){e&&t(function(){r[0].focus()},100)})}}}var r=t.module("AlertsModule");r.directive("alertRow",[function(){return{restrict:"E",templateUrl:"/ease-ui/dist/features/Alerts/html/Alert-fields.html",bindToController:!0,controller:"alertRowController",controllerAs:"rowCtrl",scope:{alert:"=",index:"@idx",account:"=",content:"=",getPhone:"=",smsEnabled:"=",totalAlerts:"@"}}}]),e.$inject=["$timeout"],r.directive("focusCardAlertEmailList",e),r.directive("validateAlertInput",function(){return{restrict:"A",require:"^^alertRow",link:function(e,r,n,i){var o=t.element(r.find("input"));o.on("blur",function(){i.validateInput()})}}}),r.directive("parentResetErrorStatus",function(){return{restrict:"A",controller:function(){this.resetErrorDirectiveElements=[]}}}),r.directive("resetAlertErrorStatus",["$timeout","_","$document",function(e,r,n){return{restrict:"A",require:"^^parentResetErrorStatus",link:{pre:function(t,e,r,n){n.resetErrorDirectiveElements.push(e[0])},post:function(i,o,c,u){e(function(){var e=n.find("ease-input"),c=u.resetErrorDirectiveElements;r.forEach(e,function(e){function r(){"checkbox"===o[0].type?n():u()}function n(){(f!==o.controller("alertRow")||f.inputValue||f.alert.subscribedIndicator)&&f.resetErrorStatus()}function u(){o.find("input")[0]===s.find("input")[0]?f.resetErrorStatus(!0):f.checkBeforeResettingErrorStatus()}function l(t){var e=t.keyCode||t.which||t.charCode;if(16!==e)if(o.find("input")[0]===s.find("input")[0]){if(8===e||9===e||16===e)return}else a===d-1&&!t.shiftKey&&9===e||a===d+1&&t.shiftKey&&9===e?f.resetErrorStatus(!0):f.resetErrorStatus()}var s=t.element(e),f=s.controller("alertRow"),a=c.indexOf(o[0]),d=c.indexOf(s[0]);o.on("click",r),o.on("keydown",l),i.$on("$destroy",function(){o.off("click",r),o.off("keydown",l)})})})}}}}])});