<ease-ui-modal close-modal="close()"
               class="edit-alert-modal"
               modal-title="::content['ease.core.profileprefs.alerts.editmodal.title.label']">
  <span aria-label="{{ getCardAccName() }}" class="nicknameAndAccountNum"
        id="nickNameAndAccountNum" name="card_nickNameAndAccountNum">
    {{ getCardAccName() }}</span>
  <div class="editAlertsContainer">
    <div class="emailIcon">
      <span> {{ ::content['ease.core.profileprefs.alerts.editmodal.email.label'] }}</span>
      <span data-ng-if="smsEnabled"> {{ ::content['ease.core.profileprefs.alerts.editmodal.sms.label'] }}</span>
    </div>
    <form class="cardAlertsFormStyle"
          name="cardAlertSubscriptionForm"
          data-ng-submit="submitAlerts(cardAlertsArray)"
          parent-reset-error-status>
      <div class="transparency" data-ng-if="disableUpdate">
        <div class="loading">
        </div>
      </div>
      <div class="editAlertsRow" data-ng-repeat="alert in ::cardAlertsArray track by alert.alertSubscriptionReferenceId"
           data-ng-class="::{alertInputStyle: alert.alertTrigger['usableIndicator']}"
           data-ng-if="displayAlert(alert)">
        <alert-row idx='{{$index}}' alert="alert" account="cardAlertAccount" content="content" sms-enabled="smsEnabled"
                   get-phone="phone" total-alerts="{{::cardAlertsArray.length}}"/>
      </div>

      <div data-ng-if="viewSecurityAlerts">
        <div class="editAlertsRow headerRowContainer">
          <div class="securityAlertsTextInfo" tabindex="0" id="ccAlertsEmailText"
               aria-label="{{ ::content['ease.core.profileprefs.alerts.editmodal.balance.label'] }}">
            {{ ::content['ease.core.profileprefs.alerts.editmodal.balance.label'] }}
          </div>
          <p class="headerRow" tabindex="0">{{::content['ease.core.profileprefs.alerts.editmodal.security.label']}}</p>
        </div>
        <div class="editAlertsRow" data-ng-repeat="alert in ::securityAlertsArray track by alert.alertSubscriptionReferenceId">
          <alert-row idx='{{$index}}' alert="alert" account="cardAlertAccount"/>
        </div>
        <div class="securityAlertsText" tabindex="0" id="ccAlertsEmailTextInfo"
             aria-label="{{ ::content['ease.core.profileprefs.alerts.editmodal.sendto.label'] }}">{{ ::content['ease.core.profileprefs.alerts.editmodal.sendto.label'] }}
        </div>
      </div>

      <div data-ng-if="!viewSecurityAlerts">
        <div class="alertsEmailText" tabindex="0" id="ccAlertsEmailText"
             aria-label="{{ ::content['ease.core.profileprefs.alerts.editmodal.balance.label'] }}">{{ ::content['ease.core.profileprefs.alerts.editmodal.balance.label'] }}</div>
      </div>

      <div class="button">
        <button id="closeCardEditAlerts"
                name="closeCardEditAlerts"
                data-ng-click="closeWithPubsub()"
                aria-label={{::content['ease.core.profileprefs.alerts.editmodal.dnnebtn.label']}}>
          <span data-ng-class="loadingCSS"></span>
          <span> {{::content['ease.core.profileprefs.alerts.editmodal.dnnebtn.label']}}</span>
        </button>
      </div>
    </form>
  </div>
</ease-ui-modal>
