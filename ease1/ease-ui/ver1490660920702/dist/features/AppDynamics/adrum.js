!function(){!new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var t=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),function(t){!function(t){t.Zc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}}}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){t=t.conf||(t.conf={}),t.beaconUrlHttp="http://easeqamb.clouddqtext.capitalone.com",t.beaconUrlHttps="https://easeqamb.clouddqtext.capitalone.com",t.corsEndpointPath="/eumcollector/beacons/browser/v1",t.imageEndpointPath="/eumcollector/adrum.gif?",t.appKey=window["adrum-app-key"]||"EUM-AAB-AXJ";var e="https:"===document.location.protocol;if(t.adrumExtUrl=(e?"https://cdn.appdynamics.com":"http://cdn.appdynamics.com")+"/adrum-ext.20eb25d52848d8f807fb234561b4fac7.js",t.adrumXdUrl="https://cdn.appdynamics.com/adrum-xd.20eb25d52848d8f807fb234561b4fac7.html",t.agentVer="4.2.4.1",t.sendImageBeacon="false",window["adrum-geo-resolver-url"]){var n=window["adrum-geo-resolver-url"],r=n.indexOf("://");-1!=r&&(n=n.substring(r+3)),n=(e?"https://":"http://")+n}else n="";t.geoResolverUrl=n,t.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],t.userConf=window["adrum-config"],t.$d=10}(t||(t={})),function(t){!function(e){function n(t){return"undefined"!=typeof t&&null!==t}function r(t){return"[object Array]"===Object.prototype.toString.apply(t)}function o(t){return"object"==typeof t&&!r(t)&&null!==t}function i(t){return"string"==typeof t}function a(t,e){for(var i in e){var s=e[i];if(e.hasOwnProperty(i)&&n(s)){var u=t[i];o(s)&&o(u)?a(u,s):t[i]=r(u)&&r(s)?u.concat(s):s}}return t}function s(t){return i(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}e.isDefined=n,e.isArray=r,e.isObject=o,e.isFunction=function(t){return"function"==typeof t||!1},e.isString=i,e.isNumber=function(t){return"number"==typeof t},e.Ta=function(t){setTimeout(t,0)},e.addEventListener=function(e,n,r){function o(){try{return r.apply(this,Array.prototype.slice.call(arguments))}catch(o){t.exception(o,"M1",n,e,o)}}t.isDebug&&t.log("M0",n,e),e.addEventListener?e.addEventListener(n,o,!1):e.attachEvent&&e.attachEvent("on"+n,o)},e.loadScriptAsync=function(e){var n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("script")[0];r?(r.parentNode.insertBefore(n,r),t.log("M2",e)):t.log("M3",e)},e.mergeJSON=a,e.od=function(t){var n=[];return t&&(e.isObject(t)?n=[t]:e.isArray(t)&&(n=t)),n},e.generateGUID="undefined"!=typeof window.crypto&&"undefined"!=typeof window.crypto.getRandomValues?function(){function t(t){for(t=t.toString(16);4>t.length;)t="0"+t;return t}var e=new Uint16Array(8);return window.crypto.getRandomValues(e),t(e[0])+t(e[1])+"_"+t(e[2])+"_"+t(e[3])+"_"+t(e[4])+"_"+t(e[5])+t(e[6])+t(e[7])}:function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.fd=function(t){return t&&(t=t.stack)&&"string"==typeof t?t:null},e.trim=s,e.wg=function(t){var e,n,r={};if(!t)return r;var o=t.split("\n");for(n=0;n<o.length;n++){var i=o[n];e=i.indexOf(":"),t=s(i.substr(0,e)).toLowerCase(),e=s(i.substr(e+1)),t&&(r[t]=r[t]?r[t]+(", "+e):e)}return r},e.tryPeriodically=function(t,e,n,r){function o(){if(e())n&&n();else{var a=t(++i);a>0?setTimeout(o,a):r&&r()}}var i=0;o()},e.Qb=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.Ic=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(this,e.concat(n))}},e.now=Date&&Date.now||function(){return(new Date).getTime()}}(t.utils||(t.utils={}))}(t||(t={})),function(t){function e(e,n,r,o){return e=t.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+r+"&msg="+encodeURIComponent(e.substring(0,500)),o&&(e+="&stack=",e+=encodeURIComponent(o.substring(0,1500-e.length))),e}function n(n,r){i>=2||((new Image).src=e(n,0,t.conf.appKey,r),i++)}function r(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}t.iDR=r,t.isDebug=r(document);var o=[];t.logMessages=o,t.log=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&o.push(Array.prototype.slice.call(arguments).join(" | "))},t.error=function(e){for(var r=1;r<arguments.length;r++);r=Array.prototype.slice.call(arguments).join(" | "),t.log(r),n(r,null)},t.exception=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];1>arguments.length||(e=Array.prototype.slice.call(arguments),r=t.utils.fd(e[0]),e=e.slice(1).join(" | "),t.log(e),n(e,r))},t.assert=function(e,n){e||t.error("Assert fail: "+n)},t.dumpLog=t.isDebug?function(){for(var t="",e=0;e<o.length;e++)t+=o[e].replace(RegExp("<br/>","g"),"\n	")+"\n";return t}:function(){},t.cIEBU=e;var i=0;t.log("M4")}(t||(t={})),function(t){var e=function(){function t(t){this.max=t,this.za=0}return t.prototype.Mf=function(){this.la()||this.za++},t.prototype.la=function(){return this.za>=this.max},t.prototype.reset=function(){this.za=0},t}(),n=function(){function n(){this.ha=[],this.Va=new e(n.oe),this.Ka=new e(n.ce)}return n.prototype.submit=function(e){this.push(e)&&t.initEXTDone&&this.processQ()},n.prototype.processQ=function(){for(var e=this.ef(),n=0;n<e.length;n++){var r=e[n];"function"==typeof t.commands[r[0]]?(t.isDebug&&t.log("M5",r[0],r.slice(1).join(", ")),t.commands[r[0]].apply(t,r.slice(1))):t.error("M6",r[0])}},n.prototype.ag=function(t){return"reportXhr"===t||"reportPageError"===t},n.prototype.push=function(e){var n=e[0],r=this.ag(n),o=r?this.Va:this.Ka;return o.la()?(t.log("M7",r?"spontaneous":"non spontaneous",n),!1):(this.ha.push(e),o.Mf(),!0)},n.prototype.ef=function(){var t=this.ha;return this.reset(),t},n.prototype.size=function(){return this.ha.length},n.prototype.reset=function(){this.ha=[],this.Va.reset(),this.Ka.reset()},n.prototype.isSpontaneousQueueDead=function(){return this.Va.la()},n.prototype.isNonSpontaneousQueueDead=function(){return this.Ka.la()},n.oe=100,n.ce=100,n}();t.Cd=n}(t||(t={})),function(t){t.q=new t.Cd,t.command=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&t.log("M8",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),t.q.submit(Array.prototype.slice.call(arguments))}}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.status={}}return t.prototype.setUp=function(){},t.prototype.set=function(t,e){this.status[t]=e},t}();t.mb=e}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){window.ADRUM.aop=e,e.support=function(t){return!t||"apply"in t},e.around=function(n,r,o,i){return t.assert(e.support(n),"aop.around called on a function which does not support interception"),n=n||function(){},function(){t.isDebug&&t.log("M9",i,Array.prototype.slice.call(arguments).join(", "));var e,a=Array.prototype.slice.call(arguments);try{r&&(e=r.apply(this,a))}catch(s){t.exception(s,"M10",i,s)}t.assert(!e||"[object Array]"===Object.prototype.toString.call(e));var u=void 0;try{u=n.apply(this,e||a)}finally{try{o&&o.apply(this,a)}catch(c){t.exception(c,"M11",i,c)}}return u}},e.before=function(t,n){return e.around(t,n)},e.after=function(t,n){return e.around(t,null,n)}}(t.aop||(t.aop={}))}(t||(t={})),function(t){t=t.EventType||(t.EventType={}),t[t.BASE_PAGE=0]="BASE_PAGE",t[t.IFRAME=1]="IFRAME",t[t.XHR=2]="XHR",t[t.VIRTUAL_PAGE=3]="VIRTUAL_PAGE",t[t.PAGE_ERROR=4]="PAGE_ERROR",t[t.ABSTRACT=100]="ABSTRACT",t[t.ADRUM_XHR=101]="ADRUM_XHR",t[t.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"}(t||(t={})),function(t){t=t.events||(t.events={}),t.l={},t.l[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},t.l[3]={resTiming:"object"},t.l[102]={digestCount:"number"},t.l[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object"},t.l[101]={xhr:"object"},t.l[4]={msg:"string",line:"number",stack:"string"}}(t||(t={})),function(t){var e=function(){function t(){this.w={}}return t.prototype.mark=function(t,e){n.mark.apply(this,arguments)},t.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},t.prototype.measure=function(t,e,r){n.measure.apply(this,arguments)},t.prototype.getEntryByName=function(t){return n.getEntryByName.call(this,t)},t.ia=function(t){return n.ia(t)},t}();t.PerformanceTracker=e;var n;!function(e){e.mark,e.measure,e.getEntryByName,e.ia;var n=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,r=n&&n.timing&&n.timing.navigationStart?n.timing.navigationStart:window["adrum-start-time"],o=t.utils.now;e.mark=function(e,n){this.w[e]={name:e,entryType:"mark",startTime:t.utils.isDefined(n)?n:o(),duration:0}},e.measure=function(e,n,i){this.w.hasOwnProperty(n)&&this.w.hasOwnProperty(i)?this.w[e]={name:e,entryType:"measure",startTime:n?this.w[n].startTime:r,duration:(i?this.w[i].startTime:o())-(n?this.w[n].startTime:r)}:t.error("M12"+(this.w.hasOwnProperty(n)?i:n)+" does not exist. ")},e.getEntryByName=function(t){return this.w[t]||null},e.ia=function(t){return t+r}}(n||(n={}))}(t||(t={})),function(t){!function(e){function n(e,n){e=e||{};for(var r in e)n[r]=function(){var n=r,o=e[r];return function(e){var r="_"+n,i=this[r];if(t.utils.isDefined(e)){if(typeof e!==o)throw TypeError("wrong type of "+n+" value, "+typeof e+" passed in but should be a "+o+".");this[r]=e}return i}}()}function r(t){var e,n={};for(e in t){var r=t[e];n[r.start]=!0,n[r.end]=!0}return n}var o=function(){function e(e){this.perf=new t.PerformanceTracker,this.timestamp(t.utils.now()),this.guid(t.utils.generateGUID()),this.url(document.URL),this.Yc(e)}return e.prototype.type=function(){return 100},e.prototype.Yc=function(e){if(t.utils.isObject(e))for(var n in e){var r=this[n]||this["mark"+t.utils.Qb(n)];r&&t.utils.isFunction(r)&&r.call(this,e[n])}},e.Mb=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},e.prototype.Cf=function(){return e.Mb(this.parentGUID(),this.parentUrl(),this.parentType())},e.prototype.parent=function(e){var n=this.Cf();return t.utils.isDefined(e)&&(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())),n},e}();e.EventTracker=o,e.W=n,e.Nb=function(e,n){e=e||{};var o,i=r(e);for(o in i)i=t.utils.Qb(o),n["mark"+i]=t.utils.Ic(function(t,e){this.perf.mark(t,e)},o),n["get"+i]=t.utils.Ic(function(t){return this.perf.getTiming(t)},o)},n(e.l[100],o.prototype)}(t.events||(t.events={}))}(t||(t={}));var e=this.He||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){!function(t){var n=function(t){function n(e){t.call(this,e)}return e(n,t),n.prototype.type=function(){return 4},n}(t.EventTracker);t.Error=n,t.W(t.l[4],n.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=function(n){function r(){n.apply(this,arguments)}return e(r,n),r.prototype.setUp=function(){n.prototype.setUp.call(this),t.listenForErrors=this.Ac,this.Ac()},r.prototype.Ac=function(){if(t.aop.support(window.onerror)){var e=this;window.onerror=t.aop.around(window.onerror,function(n,o,i,a,s){r.Ia||(r.errorsSent>=t.conf.$d?t.log("M13"):(a=t.utils.fd(s),t.command("reportPageError",new t.events.Error(t.utils.mergeJSON({msg:n,url:o,line:i,stack:a},e.status))),r.errorsSent++,r.Ia=!0))},function(){r.Ia=!1},"onerror"),t.log("M14")}else t.log("M15")},r.Ia=!1,r.errorsSent=0,r}(n.mb);n.ErrorMonitor=r,n.Zb=new n.ErrorMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){var e=function(){function e(){this.ta=[],this.oa(e.wa,0)}return e.prototype.og=function(t){this.oa(e.Gb,t)},e.prototype.qg=function(t){this.oa(e.Ob,t)},e.prototype.pg=function(t){this.oa(e.Ib,t)},e.prototype.oa=function(t,e){this.ta.push({mg:(new Date).getTime(),lg:e,Jc:t}),this.af=t},e.prototype.getPhaseName=function(){return this.af},e.prototype.getPhaseID=function(t){for(var n=0;n<e.Lb.length;n++)if(e.Lb[n]===t)return n;return null},e.prototype.getPhaseCallbackTime=function(t){for(var e=this.ta,n=0;n<e.length;n++)if(e[n].Jc===t)return e[n].mg;return null},e.prototype.findPhaseAtNominalTime=function(n){t.assert(n>=0);for(var r=this.ta,o=r.length-1;o>=0;o--)if(n>=r[o].lg)return r[o].Jc;return t.error("M16",n,t.utils.ff(r)),e.wa},e.wa="AFTER_FIRST_BYTE",e.Gb="AFTER_DOM_INTERACTIVE",e.Ob="AT_ONLOAD",e.Ib="AFTER_ONLOAD",e.Lb=[e.wa,e.Gb,e.Ob,e.Ib],e}();t.oh=e,t.lifecycle=new e,t.lifecycle=t.lifecycle}(t||(t={})),function(t){!function(t){var n=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype.type=function(){return 0},n}(t.EventTracker);t.PageView=n}(t.events||(t.events={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){}return n.prototype.setUp=function(){n.Kg(),n.Jg()},n.Jg=function(){t.utils.addEventListener(window,"load",n.pa),t.utils.addEventListener(window,"load",n.tg)},n.tg=function(n){t.lifecycle.qg(n&&n.timeStamp),t.utils.Ta(function(){var n=(new Date).getTime();t.lifecycle.pg(n),t.command("mark","onload",n),e.yb.perf&&(e.perfMonitor.Xe(),e.perfMonitor.Ye()),t.command("reportOnload",new t.events.PageView),t.utils.loadScriptAsync(t.conf.adrumExtUrl)}),t.log("M17")},n.Kg=function(){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n.ca,!1);else{document.attachEvent("onreadystatechange",n.ca);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(r){}null!=e&&e.doScroll&&function o(){if(!n.isReady){try{e.doScroll("left")}catch(t){return void setTimeout(o,10)}n.pa()}}()}t.log("M18")},n.pa=function(e){n.Dc||(t.lifecycle.og(e&&e.timeStamp),t.command("mark","onready",(new Date).getTime()),n.Dc=!0)},n.ca=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n.ca,!1),n.pa(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n.ca),n.pa(t))},n.isReady=!1,n.Dc=!1,n}();e.Ed=n,e.df=new e.Ed}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){var n=function(){function e(){this.navTiming=this.resTiming=null}return e.prototype.setUp=function(){e.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance},e.prototype.Xe=function(){var n=e.perf;if(n=n&&n.timing)if(n.navigationStart&&n.navigationStart<=n.loadEventEnd){var r,o={};for(r in n){var i=n[r];"number"==typeof i&&(o[r]=i)}this.navTiming=o}else t.log("M20");else t.log("M19")},e.prototype.Ye=function(){this.resTiming=this.hc()},e.prototype.hc=function(){var n=e.perf,r=[];return n&&n.getEntriesByType&&(n=n.getEntriesByType("resource"))&&n.length&&0<n.length&&n.unshift&&(r=n),0==r.length&&t.log("M21"),r},e.perf=null,e}();e.yb=n,e.perfMonitor=new e.yb}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){t=t.events||(t.events={}),t=t.b||(t.b={}),t.navigationStart="navigationStart",t.domainLookupStart="domainLookupStart",t.domainLookupEnd="domainLookupEnd",t.connectStart="connectStart",t.secureConnectionStart="secureConnectionStart",t.connectEnd="connectEnd",t.requestStart="requestStart",t.responseStart="responseStart",t.responseEnd="responseEnd",t.domContentLoadedEventStart="domContentLoadedEventStart",t.loadEventEnd="loadEventEnd",t.Wc="sendTime",t.ac="firstByteTime",t.Sc="respAvailTime",t.Tc="respProcTime",t.cb="viewChangeStart",t.kd="viewChangeEnd",t.eb="viewDOMLoaded",t.qd="xhrRequestsCompleted",t.Vh="viewFragmentsLoaded",t.Wh="viewResourcesLoaded",t.fb="virtualPageStart",t.dh="virtualPageEnd"}(t||(t={})),function(t){t=t.events||(t.events={}),t.B={},t.B[0]={lf:{start:t.b.navigationStart,end:t.b.loadEventEnd,name:"PLT"},qf:{start:t.b.navigationStart,end:t.b.responseStart,name:"FBT"},Rh:{start:t.b.navigationStart,end:t.b.requestStart,name:"SCT"},Sh:{start:t.b.secureConnectionStart,end:t.b.connectEnd,name:"SHT"},yh:{start:t.b.domainLookupStart,end:t.b.domainLookupEnd,name:"DLT"},Uh:{start:t.b.connectStart,end:t.b.connectEnd,name:"TCP"},Ph:{start:t.b.requestStart,end:t.b.responseStart,name:"RAT"},Ah:{start:t.b.responseStart,end:t.b.loadEventEnd,name:"FET"},Ch:{start:t.b.responseStart,end:t.b.domContentLoadedEventStart,name:"DRT"},sh:{start:t.b.responseStart,end:t.b.responseEnd,name:"DDT"},wh:{start:t.b.responseEnd,end:t.b.domContentLoadedEventStart,name:"DPT"},Oh:{start:t.b.domContentLoadedEventStart,end:t.b.loadEventEnd,name:"PRT"},xh:{start:t.b.navigationStart,end:t.b.domContentLoadedEventStart,name:"DOM"}},t.B[2]={qf:{start:t.b.Wc,end:t.b.ac,name:"FBT"},Bh:{start:t.b.ac,end:t.b.Sc,name:"DDT"},rh:{start:t.b.Sc,end:t.b.Tc,name:"DPT"},lf:{start:t.b.Wc,end:t.b.Tc,name:"PLT"}},t.B[3]={Ih:{start:t.b.fb,end:t.b.dh,name:"PLT"},uh:{start:t.b.cb,end:t.b.kd,name:"DDT"},Fh:{start:t.b.cb,end:t.b.eb,name:"DRT"},jh:{start:t.b.kd,end:t.b.eb,name:"DPT"},kh:{start:t.b.cb,end:t.b.eb,name:"DOM"},Nh:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},Gh:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},Eh:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Hh:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},t.B[102]=t.B[3]}(t||(t={})),function(t){!function(t){var n=function(t){function n(e){t.call(this,e)}return e(n,t),n.prototype.type=function(){return 2},n}(t.EventTracker);t.Ajax=n,t.W(t.l[2],n.prototype),t.Nb(t.B[2],n.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(t){var n=function(t){function n(e){t.call(this,e)}return e(n,t),n.prototype.type=function(){return 2},n}(t.Ajax);t.AdrumAjax=n,t.W(t.l[101],n.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=function(n){function r(){n.call(this),this.conf=null,this.Wa=!1,!0===window["adrum-xhr-disable"]?t.log("M22"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:t.conf.beaconUrlHttp+t.conf.corsEndpointPath},{pattern:t.conf.beaconUrlHttps+t.conf.corsEndpointPath}]}],include:[]},r.Mc(this.conf,t.conf.userConf&&t.conf.userConf.xhr),(this.d=window.XMLHttpRequest.prototype)?"open"in this.d&&"send"in this.d?(this.Wa=t.aop.support(this.d.open)&&t.aop.support(this.d.send))||t.log("M26"):t.log("M25"):t.log("M24")):t.log("M23")}return e(r,n),r.Mc=function(e,n){n&&(n.include=t.utils.od(n.include),n.exclude=t.utils.od(n.exclude),t.utils.mergeJSON(e,n));var o=e.exclude;if(o)for(var i=0;i<o.length;i++){var a=o[i].urls;a&&0<a.length&&(o[i].urls=r.Ub(a))}if(o=e.include)for(i=0;i<o.length;i++)(a=o[i].urls)&&0<a.length&&(o[i].urls=r.Ub(a))},r.Ub=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r].pattern;if("string"==typeof o)try{n.push(new RegExp(o))}catch(i){t.exception(i,"Parse regex pattern failed.")}else t.error("xhr filter pattern should be a string")}return n},r.$c=function(t,e,n){var o=n&&n.include;return n=n&&n.exclude,o&&0<o.length&&!r.xc(e,t,o)||n&&0<n.length&&r.xc(e,t,n)},r.prototype.setUp=function(){if(this.Wa){t.log("M27"),t.xhrConstructor=window.XMLHttpRequest,t.xhrOpen=this.xhrOpen=this.d.open,t.xhrSend=this.xhrSend=this.d.send;var e=this;this.d.open=t.aop.around(this.d.open,function(){var n=1<=arguments.length?String(arguments[0]):"",o=2<=arguments.length?String(arguments[1]):"";r.$c(o,n,e.conf)||(this._adrumAjaxT=new t.events.AdrumAjax(t.utils.mergeJSON({method:n,url:o,xhr:this},e.status)))},null,"XHR.open"),this.d.send=t.aop.around(this.d.send,function(){var n=this,o=n._adrumAjaxT;if(o){var i=t.utils.now(),a=o.getSendTime();t.assert(null===a,"M28"),o.timestamp(i),o.markSendTime(a||i),o.parentPhase(t.lifecycle.getPhaseName()),r.Zf(o.url())?n.setRequestHeader("ADRUM","isAjax:true"):t.log("M29",document.location.href,o.url());var s=0,u=function(){if(4==n.readyState)t.log("M30"),e.ua(n);else{var o=null;try{o=n.onreadystatechange}catch(i){return t.log("M31",i),void e.ua(n)}s++,o?t.aop.support(o)?(n.onreadystatechange=e.Vb(o,n,"XHR.onReadyStateChange"),t.log("M32",s)):(t.log("M33"),e.ua(n)):s<r.Fe?t.utils.Ta(u):(t.log("M34"),e.ua(n))}};u()}},null,"XHR.send"),"addEventListener"in this.d&&"removeEventListener"in this.d&&t.aop.support(this.d.addEventListener)&&t.aop.support(this.d.removeEventListener)?(this.d.addEventListener=t.aop.around(this.d.addEventListener,this.$e(),null,"XHR.addEventListener"),this.d.removeEventListener=t.aop.around(this.d.removeEventListener,function(e,n){if(this._adrumAjaxT){var r=Array.prototype.slice.call(arguments);return n.__adrumInterceptor?(r[1]=n.__adrumInterceptor,t.log("M35")):t.log("M36"),r}},null,"XHR.removeEventListener")):t.log("M37"),t.log("M38")}},r.jg=function(t,e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];if(o&&o.test(t)){n=!0;break}}return n},r.xc=function(t,e,n){var o=!1;if(e&&n)for(var i=0;i<n.length;i++){var a=n[i];if(!(a.method&&t!==a.method||a.urls&&!r.jg(e,a.urls))){o=!0;break}}return o},r.Zf=function(t){var e=document.createElement("a");return e.href=t,t=document.location,":"===e.protocol&&""===e.hostname&&""===e.port||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port},r.nc=function(e){var n=e._adrumAjaxT;if(n){var r=(new Date).getTime();2==e.readyState?n.markFirstByteTime(n.getFirstByteTime()||r):4==e.readyState&&(t.assert(null===n.getRespAvailTime(),"M39"),n.markRespAvailTime(n.getRespAvailTime()||r),n.markFirstByteTime(n.getFirstByteTime()||r))}},r.prototype.Vb=function(e,n,o){return r.hh(e,function(){r.nc(this)},function(){var e=n._adrumAjaxT;if(e&&4==n.readyState){var o=(new Date).getTime();t.assert(null===e.getRespProcTime(),"M40"),e.markRespProcTime(e.getRespProcTime()||o),r.a(n,e)}},o)},r.a=function(e,n){var r=e.status;if(r>=400){var o=e.responseText;n.error({status:r,msg:t.utils.isString(o)?o:""})}t.command("reportXhr",n)},r.prototype.ua=function(e){if(e._adrumAjaxT){var n=(new Date).getTime()+3e4,o=function(){r.nc(e);var i=e._adrumAjaxT;if(i){var a=(new Date).getTime();4==e.readyState?(t.assert(null===i.getRespProcTime(),"M41"),i.markRespProcTime(i.markRespProcTime()||a),t.log("M42"),r.a(e,i),delete e._adrumAjaxT):n>a?setTimeout(o,r.lb):(delete e._adrumAjaxT,t.log("M43"))}};o()}},r.hh=function(e,n,r,o){var i=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(i=function(){e.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),t.aop.around(i,n,r,o)},r.prototype.$e=function(){for(var e=0;e<arguments.length;e++);var n=this;return function(e,r){if(("load"===e||"error"===e)&&r&&this._adrumAjaxT){var o;if(o=r,o.__adrumInterceptor)o=o.__adrumInterceptor;else if(t.aop.support(o)){var i=n.Vb(o,this,"XHR.invokeEventListener");o=o.__adrumInterceptor=i}else o=null;if(o)return i=Array.prototype.slice.call(arguments),i[1]=o,t.log("M44"),i;t.log("M45",e,r)}}},r.Fe=5,r.lb=50,r}(n.mb);n.fa=r,n.hb=new n.fa}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){function n(t,e){var n=[],r=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t);if(r){var o=r[1],r=r[2].replace(/^"|"$/g,""),r=decodeURIComponent(r).split("|"),a=r[0].split(":");if("R"===a[0]&&Number(a[1])===e)for(i(o),o=1;o<r.length;o++)n.push(r[o])}return n}function r(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var r=n[1],o=n[4],a=n[5];if(Number(n[3])===e)return i(r),{index:Number(o),value:a}}return null}function o(e){var n=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);return n?(t.log("M48",e),3===n.length?(i("ADRUM"),{startTime:Number(n[1]),startPage:n[2]}):(t.error("M49",e),null)):void 0}function i(e){t.log("M47",e);var n=new Date;n.setTime(n.getTime()-1e3),document.cookie=e+"=;Expires="+n.toUTCString()}e.startTimeCookie=null,e.cookieMetadataChunks=null,e.Xb=function(i,a){t.log("M46");for(var s=a?a.length:0,u=[],c=i.split(";"),f=0;f<c.length;f++){var l=c[f],p=r(l,s);p?u.push(p):(l=o(l),null!=l&&(e.startTimeCookie=l))}for(Array.prototype.sort.call(u,function(t,e){return t.index-e.index}),l=[],f=0;f<u.length;f++)l.push(u[f].value);for(f=0;f<c.length;f++)(u=n(c[f],s))&&0<u.length&&(l=l.concat(u));e.cookieMetadataChunks=l},t.correlation.eck=e.Xb}(t.correlation||(t.correlation={}))}(t||(t={})),function(t){t.report=function(e){t.utils.Ta(function(){t.command("reportEvent",e)})}}(t||(t={})),function(t){"APP_KEY_NOT_SET"===t.conf.appKey&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),t.correlation.Xb(document.cookie,document.referrer),t.command("mark","firstbyte",window["adrum-start-time"]),t.monitor.Zc(t.monitor.Zb,t.monitor.df,t.monitor.perfMonitor,t.monitor.hb)}(t||(t={})),function(t){t=t.ng||(t.ng={}),t=t.c||(t.c={}),t.Bc="locationChangeStart",t.gg="locationChangeSuccess",t.Uc="routeChangeStart",t.Vc="routeChangeSuccess",t.bd="stateChangeStart",t.cd="stateChangeSuccess",t.ld="viewContentLoaded",t.Jf="includeContentRequested",t.If="includeContentLoaded",t.Wb="digest",t.Kh="outstandingRequestsComplete",t.Pb="beforeNgXhrRequested",t.Hb="afterNgXhrRequested",t.Jh="ngXhrLoaded",t.Sb="$$completeOutstandingRequest"}(t||(t={})),function(t){!function(t){function e(e,n,r,o,i,a){if(n)try{return n.apply(e,[r,o,i].concat(a))}catch(s){return e.error(r,o,i,a,t.Error.Md,"an exception occurred in a caller-provided callback function",s)}}function n(n,r){return function(){var o=this.current,i=r[o]||r[t.ea]||o,a=Array.prototype.slice.call(arguments);if(this.Ve(n))return this.error(n,o,i,a,t.Error.Nd,"event "+n+" inappropriate in current state "+this.current);if(!1===e(this,this["onbefore"+n],n,o,i,a))return t.da.ib;if(i===t.ea&&(i=o),o===i)return e(this,this["onafter"+n]||this["on"+n],n,o,i,a),t.da.qe;var s=this;return this.transition=function(){return s.transition=null,s.current=i,e(s,s["onenter"+i]||s["on"+i],n,o,i,a),e(s,s["onafter"+n]||s["on"+n],n,o,i,a),t.da.ye},!1===e(this,this["onleave"+o],n,o,i,a)?(this.transition=null,t.da.ib):this.transition?this.transition():void 0}}t.VERSION="2.3.5",t.da={ye:1,qe:2,ib:3,mh:4},t.Error={Nd:100,nh:200,Md:300},t.ea="*",t.create=function(e,r){function o(e){var n=e.from instanceof Array?e.from:e.from?[e.from]:[t.ea];c[e.name]=c[e.name]||{};for(var r=0;r<n.length;r++)f[n[r]]=f[n[r]]||[],f[n[r]].push(e.name),c[e.name][n[r]]=e.to||n[r]}var i="string"==typeof e.initial?{state:e.initial}:e.initial,a=r||e.target||{},s=e.events||[],u=e.callbacks||{},c={},f={};i&&(i.event=i.event||"startup",o({name:i.event,from:"none",to:i.state}));for(var l=0;l<s.length;l++)o(s[l]);for(var p in c)c.hasOwnProperty(p)&&(a[p]=n(p,c[p]));for(p in u)u.hasOwnProperty(p)&&(a[p]=u[p]);return a.current="none",a.Dh=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},a.Ue=function(e){return!this.transition&&(c[e].hasOwnProperty(this.current)||c[e].hasOwnProperty(t.ea))},a.Ve=function(t){return!this.Ue(t)},a.ta=function(){return f[this.current]},a.error=e.error||function(t,e,n,r,o,i,a){throw a||i},i&&!i.defer&&a[i.event](),a}}(t.Bb||(t.Bb={}))}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){r.call(this,e),this.perf=new t.PerformanceTracker,this.start()}return e(o,r),o.prototype.type=function(){return 3},o.prototype.yf=function(){return n.EventTracker.Mb(this.guid(),this.url(),this.type())},o.prototype.ad=function(e){var n=this.yf();e.set("parent",n),t.log("M50",n.guid(),n.url())},o.prototype.startCorrelatingXhrs=function(){t.log("M51"),this.ad(t.monitor.hb)},o.prototype.stopCorrelatingXhrs=function(){t.monitor.hb.set("parent",null),t.log("M52")},o.prototype.Ng=function(){t.log("M53"),this.ad(t.monitor.Zb)},o.prototype.start=function(){this.markVirtualPageStart(),this.startCorrelatingXhrs()},o.prototype.end=function(){this.markVirtualPageEnd(),this.stopCorrelatingXhrs()},o}(n.EventTracker);n.VPageView=r,n.W(n.l[3],r.prototype),n.Nb(n.B[3],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={}),e=e.conf||(e.conf={});e.disabled=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.disable,e.distinguishVPwithItsTemplateUrl=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&!0===t.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl?!0:!1,e.xhr={},e.metrics={includeResTimingInEndUserResponseTiming:!0},t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.vp&&(t.conf.userConf.spa.angular.vp.xhr&&t.monitor.fa.Mc(e.xhr,t.conf.userConf.spa.angular.vp.xhr),t.conf.userConf.spa.angular.vp.metrics&&t.utils.mergeJSON(e.metrics,t.conf.userConf.spa.angular.vp.metrics))}(t||(t={})),function(t){!function(n){var r=function(r){function o(t){r.call(this,t),this.vc=!0,this.Y={},this.U=0,this.stopCorrelatingXhrs()}return e(o,r),o.prototype.type=function(){return 3},o.prototype.fb=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},o.prototype.Kf=function(){this.digestCount(this.digestCount()+1)},o.prototype.Lf=function(){this.U++,t.log("increasing xhr count "+this.U+" pending xhr requests")},o.prototype.bf=function(){this.U--,t.log("decreasing xhr count "+this.U+" pending xhr requests")},o.prototype.Ff=function(){var e=this.perf.getEntryByName(t.events.b.qd);return t.log("xhrCount "+this.U+" xhrReuqestCompleted "+e),0<this.U},o.prototype.Re=function(){var t={sa:0},e=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]");if(e&&0<e.length)for(var n in o.Rc)for(var r=0;r<e.length;r++){var i=angular.element(e[r]).find(n);if(0<i.length)for(var a=0;a<i.length;a++){var s=i[a][o.Rc[n].Ya];(s=s?decodeURIComponent(s):null)&&!t[s]&&(t[s]=n,t.sa++)}}this.Y=t},o.prototype.Qe=function(t){return!!this.Y[decodeURIComponent(t.name)]},o.prototype.Se=function(){var e=[],n=this;0<this.Y.sa&&(e=t.monitor.perfMonitor.hc().filter(function(t){return n.Qe(t)})),this.resTiming(e)},o.nf=function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];2!==e[o].eventType&&101!==e[o].eventType||t.monitor.fa.$c(i.eventUrl,i.method,n.conf.xhr)||r.push(e[o])}return r},o.zf=function(t){var e,n,r=-1;for(e=0,n=t.length;n>e;e++)r=Math.max(r,t[e].timestamp+t[e].metrics.PLT);return r},o.prototype.Le=function(){if(n.conf.xhr){var e=o.nf(t.channel.getEventsWithParentGUID(this.guid())),e=o.zf(e);if(e>0){var r=this.perf.getEntryByName(t.events.b.qd);this.markXhrRequestsCompleted(Math.min(r&&r.startTime||Number.MAX_VALUE,e))}}},o.prototype.adjustTimings=function(){this.Le();var e=this.getViewDOMLoaded(),r=this.getXhrRequestsCompleted(),e=Math.max(e,r);n.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.Ke(),r=this.getViewResourcesLoaded(),r=Math.max(e,r),t.log("adjust this.end from %s to %s",e,r),e=r),this.markVirtualPageEnd(e)},o.prototype.Ke=function(){if(0<this.Y.sa){this.Se();var e=this.resTiming();if(e&&e.length>=this.Y.sa){for(var n=[],r=0;r<e.length;r++)n.push(e[r].responseEnd);e=Math.max.apply(Math,n),this.markViewResourcesLoaded(t.PerformanceTracker.ia(e))}}},o.prototype.identifier=function(e){var n=this.nd;return t.utils.isDefined(e)&&(this.nd=o.mf(e),this.url(this.nd.url)),n},o.mf=function(e){var n={};return e&&e.g?(n.g={Ma:""},t.utils.mergeJSON(n.g,{Ma:e.g.originalPath,Z:e.g.template,$:e.g.templateUrl})):e&&e.state&&(n.state={url:""},t.utils.mergeJSON(n.state,{url:e.state.url,name:e.state.name,Z:e.state.template,$:e.state.templateUrl})),n},o.Rc={img:{Ya:"src"},script:{Ya:"src"},link:{Ya:"href"}},o}(t.events.VPageView);n.NgVPageView=r,t.events.W(t.events.l[102],r.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.e=new e.NgVPageView}return n.prototype.Dg=function(){var r=this;e.conf.metrics.includeResTimingInEndUserResponseTiming?(t.log("M54"),setTimeout(function(){r.Pa()},n.Ae)):setTimeout(function(){r.Pa()},n.Be)},n.prototype.Pa=function(){t.log("M55");var e=this.e;t.command("call",function(){e.adjustTimings(),t.reporter.reportEvent(e)})},n.prototype.Ig=function(t){this.e=t},n.Ae=5e3,n.Be=2*t.monitor.fa.lb,n}();e.VirtualPageStateMachine=n,t.Bb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",
to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){t.log("M56"+e)},callbacks:{onChangeView:function(){this.e.fb(),this.e.Ng()},onviewLoaded:function(){this.e.markViewDOMLoaded()},onXhrPending:function(){this.e.vc&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.Pa(),!0):"xhrCompleted"===t&&"End"===n?this.e.Ff()?!1:(this.e.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.e.Re(),this.Dg()},oninit:function(t,e,n,r){this.Ig(r)},onlocChange:function(t,e,n,r){this.e.identifier.url=r},onbeforeXhrReq:function(e,n,r,o){var i=this.e;return i.vc=!1,t.log("M57",o&&o[1]||"",i.guid()),i.Lf(),i.startCorrelatingXhrs(),o[3]&&(o[3]=t.aop.before(o[3],function(e,n,r){t.log("M58"),i.bf(),r&&(e=t.utils.wg(r)["content-type"])&&0<=e.indexOf("text/html")&&i.markViewFragmentsLoaded()})),o},onafterXhrReq:function(){this.e.stopCorrelatingXhrs()}}},n.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.k=new e.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=t.ng.conf.distinguishVPwithItsTemplateUrl}return n.prototype.h=function(r,o){switch(t.log("M59",r),r){case e.c.Uc:case e.c.bd:this.k.start();var i=new e.NgVPageView({url:o.next.url,identifier:o.next});this.distinguishVPwithItsTemplateUrl&&n.Tf(this.k.e,i)?this.k.e.Yc({url:o.next.url,identifier:o.next}):this.Sg(i);break;case e.c.Vc:case e.c.cd:this.k.e.markViewChangeEnd();break;case e.c.ld:this.k.viewLoaded();break;case e.c.Pb:this.k.beforeXhrReq(o);break;case e.c.Hb:this.k.afterXhrReq();break;case e.c.Sb:this.k.xhrCompleted();break;case e.c.Bc:this.k.locChange(o.next.url);break;case e.c.Wb:this.k.e.Kf()}},n.prototype.Sg=function(t){this.k.abort(),this.k.init(t),this.k.start()},n.Tf=function(e,n){var r=e.identifier(),o=n.identifier(),i=!1;return i=!t.utils.isDefined(r)&&!t.utils.isDefined(o)||r===o?!0:t.utils.isDefined(r)&&t.utils.isDefined(o)?r.state||o.state?t.utils.isDefined(r.state)&&t.utils.isDefined(o.state)?r.state.name===o.state.name&&r.state.Z===o.state.Z&&r.state.$===o.state.$&&r.state.url===o.state.url:!1:r.g&&o.g?r.g.Ma===o.g.Ma&&r.g.Z===o.g.Z&&r.g.$===o.g.$:r.url===o.url:!1},n}();e.De=n}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.j=new e.De}return n.prototype.setUp=function(){var e=this;t.utils.addEventListener(document,"DOMContentLoaded",function(){t.log("M60"),e.init()})},n.prototype.init=function(){if("undefined"!=typeof angular){t.log("M61");var e=this,n=angular.module("ng");n.config(["$provide",function(t){e.Qf(t),e.Pf(t)}]),n.run(["$browser",function(t){e.Of(t)}]),t.log("M62")}},n.prototype.Pf=function(n){var r=t.aop,o=this;n.decorator("$httpBackend",["$delegate",function(t){return t=r.around(t,function(){var t=Array.prototype.slice.call(arguments);return o.j.h(e.c.Pb,t),t},function(){o.j.h(e.c.Hb)})}])},n.prototype.Qf=function(n){var r=t.aop,o=this;n.decorator("$rootScope",["$delegate",function(t){return t.$digest=r.after(t.$digest,function(){o.j.h(e.c.Wb)}),t.$on("$locationChangeStart",function(t,n){var r={url:n},i=t&&t.X&&t.X.$state&&t.X.$state.current;i&&(r.state=i),o.j.h(e.c.Bc,{next:r})}),t.$on("$locationChangeSuccess",function(){o.j.h(e.c.gg)}),t.$on("$routeChangeStart",function(t,n){var r={url:location.href},i=n&&n.$$route;i&&(r.g=i),o.j.h(e.c.Uc,{next:r})}),t.$on("$routeChangeSuccess",function(){o.j.h(e.c.Vc)}),t.$on("$stateChangeStart",function(t,n){o.j.h(e.c.bd,{next:{state:n}})}),t.$on("$stateChangeSuccess",function(){o.j.h(e.c.cd)}),t.$on("$viewContentLoaded",function(t){var n={url:location.href};(t=t&&t.X&&t.X.$state&&t.X.$state.current)&&(n.state=t),o.j.h(e.c.ld,{next:n})}),t.$on("$includeContentRequested",function(){o.j.h(e.c.Jf)}),t.$on("$includeContentLoaded",function(){o.j.h(e.c.If)}),t}])},n.prototype.Of=function(n){var r=this;n.$$completeOutstandingRequest=t.aop.before(n.$$completeOutstandingRequest,function(){r.j.h(e.c.Sb)})},n}();e.ih=n,e.ngMonitor=new n}(t.ng||(t.ng={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={});e.conf.disabled||t.monitor.Zc(e.ngMonitor)}(t||(t={}))}}}();