<ease-ui-modal
  close-modal="closeModal()"
  modal-id="'transferIndex'"
  modal-role="'document'"
  modal-title="contentData['ease.core.transfer.form.header.label']"
  class="transferModal transferModalIndex"
  back-button-options="backButtonOptions">
  <!-- Transer One time transfer view -->
  <div data-ng-show="selectedView === 'one-time'">
    <ease-error-message error-options="messageOptions"
      focus-if="enterKeyPressed"
      focus-on="savingsMessage">
    </ease-error-message>
    <div class="form-container" role="application">
      <ease-ui-dropdown
        is-open="fromDropdown.isOpen"
        persist-items="transferFromList"
        items="transferFromListItems"
        model-value="fromDropdown.selectedValue"
        disable-search="true"
        select="onTransferFromSelected(item)"
        combobox="fromDropdownOptions"
        data-ng-class="{disablingLabel:transferSubmitted}">
        <ease-ui-dropdown-menu
          select="onTransferFromSelected(item)"
          items="transferFromListItems"
          template=true
          is-open="fromDropdown.isOpen"
          component-id="{{fromDropdownOptions.id}}">
          <li id="transfer-from-option-{{$index}}"
              data-ng-repeat="item in transferFromListItems"
              data-ng-keydown="keypressEvent($event)"
              data-index={{$index}}
              tabindex="-1"
              role="option">
            <span class="ease-itemlabel">{{item.displayName}}</span>
            <span class="ease-itemSubLabel transfer-list-account">{{item.accountNumber}}</span>
            <span class="ease-item-amount">{{item.displayBalance}}</span>
          </li>
        </ease-ui-dropdown-menu>
      </ease-ui-dropdown>
    </div>
    <div class="form-container" role="application">
      <ease-ui-dropdown
        is-open="toDropdown.isOpen"
        persist-items="transferToList.data"
        items="transferToListItems"
        model-value="toDropdown.selectedValue"
        disable-search="true"
        select="onTransferToSelected(item)"
        combobox="toDropdownOptions"
        data-ng-class="{disablingLabel:transferSubmitted}">
        <ease-ui-dropdown-menu
          select="onTransferToSelected(item)"
          items="transferToListItems"
          template=true
          is-open="toDropdown.isOpen"
          component-id="{{toDropdownOptions.id}}">
          <li id="transfer-to-option-{{$index}}"
              data-ng-repeat="item in transferToListItems"
              data-index={{$index}}
              tabindex="-1"
              role="option">
            <span class="ease-itemlabel">{{item.displayName}}</span>
            <span class="ease-itemSubLabel transfer-list-account">{{item.accountNumber}}</span>
            <span class="ease-item-amount">{{item.displayBalance}}</span>
          </li>
        </ease-ui-dropdown-menu>
      </ease-ui-dropdown>
    </div>
    <div id="datePicker" class="form-container transfer-date-picker">
      <label class="transfer-label" tabindex="0">{{::contentData["ease.core.transfer.form.transdate.label"]}}</label>
      <label class="transfer-sublabel" data-ng-if="showArriveOnDate" tabindex="0">
        {{::contentData['ease.core.transfer.form.arriveby.label']}} {{arriveOnDate}}
      </label>
      <div class="easeDatePicker transfer-input-field">
        <input
          class="datePickerInput transfer-input"
          type="text"
          id="datePickerInputId"
          data-ng-model="date"
          aria-label="{{::contentData['ease.core.transfer.form.transdate.label']}}"
          readonly="true"
          tabindex="0">
        <span data-ng-if="displayCalendarIcon()"
              role="button"
              data-ng-click="open($event)"
              id="btnDatePicker"
              class="dateControlButton"
              aria-label="{{contentData['ease.core.transfer.form.calendar.label']}}"
              alt="{{contentData['ease.core.transfer.form.calendar.label']}}"
              title="{{contentData['ease.core.transfer.form.calendar.label']}}"
              focus-input="callback">
              <i class="icon-calendar"></i>
            </span>
        </input>
      </div>
    </div>
    <div class="form-container">
      <div data-ng-show="showRemainingLimit" class="transfer-sublabel transfer-sublabel-remaininglimit">
    <span id="dailyLimitRemainingId" role="alert"
          aria-label="{{::contentData['ease.core.transfer.amount.error.label']}} {{dailyLimitRemainingAmount | currency}}"
          tabindex="0">
      {{::contentData['ease.core.transfer.amount.error.label']}} {{dailyLimitRemainingAmount | currency}}
    </span>
        <span class="tooltip position" tabindex="0" aria-label="{{::contentData['ease.core.transfer.tooltip.notice.label']}} {{::contentData['ease.core.transfer.tooltip.limit.label']}} {{monthlyLimitRemainingAmount | currency}}"
              alt="{{::contentData['ease.core.transfer.tooltip.notice.label']}} {{::contentData['ease.core.transfer.tooltip.limit.label']}} {{monthlyLimitRemainingAmount | currency}}"
              data-content="{{::contentData['ease.core.transfer.tooltip.notice.label']}} {{::contentData['ease.core.transfer.tooltip.limit.label']}} {{monthlyLimitRemainingAmount | currency}}."
              tabindex="0">
      <i class="icon-info-circle transferIconAmount"></i>
    </span>
      </div>

    <div id="showHelocMinimumAmount" data-ng-show="helocMinimumAmount"
         class="transfer-sublabel transfer-sublabel-remaininglimit" role="alert" tabindex="0"
         aria-label="{{contentData['ease.core.transfer.heloc.minimumwithdrawal.label']}} {{helocMinimumAmount | currency}}">
      {{contentData['ease.core.transfer.heloc.minimumwithdrawal.label']}} {{helocMinimumAmount | currency}} <i
      class="icon-info-circle"></i>
    </div>
  </div>

    <ease-input input-type="amount"
                input-id="'amountInput'"
                input-val="amount.payAmount"
                label="::contentData['ease.core.transfer.form.amount.label']"
                static-content="amountStaticContent"
                memo-attrs="memoAttributes"
                has-error="amount.hasError"
                error-msg="apiErrorMessage"
                error-status="errorStatus"
                char-limit="10">
    </ease-input>

    <button type="button"
            id="btnMakePayment"
            data-ng-disabled="isTransferEnable()"
            tabindex="0"
            data-ng-click="makePayment()"
            aria-labelledby="transfer-terms"
            class="transfer-button">
      <span data-ng-class="{ loading: loadingClass }"></span>
      <span>{{::contentData['ease.core.transfer.form.submit.button']}}</span>
    </button>
    <div id="transfer-terms" class="transfer-terms-message" ng-if="isTransferType">
      {{ ::toggleTransferMessage }}
    </div>
    </form>
  </div>
  <!-- Transfer One time transfer view End -->

  <!-- Transfer Date Picker View -->
  <div data-ng-if="selectedView === 'date-picker'">
    <ease-calendar
      class="transferDatePicker"
      data-ng-model="currentDate"
      static-content="i18nData"
      data-ng-change="selectDate(currentDate)"
      calendar-options="options"
      tabindex="-1"
    >
    </ease-calendar>
    <button
      type="button"
      tabindex="0"
      id="datePickerDoneButton"
      data-ng-click="datePickerDone()"
      class="button progressive datePickerDoneButton">
      {{::contentData['ease.core.transfer.form.calendar.select.button']}}
    </button>
  </div>
<!-- Transfer Date Picker View End -->

</ease-ui-modal>
